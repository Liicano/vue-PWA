{"version":3,"sources":["webpack:///./src/pages/Dashboard/Maps/GoogleMaps.vue?18de","webpack:///src/pages/Dashboard/Maps/GoogleMaps.vue","webpack:///./src/pages/Dashboard/Maps/GoogleMaps.vue?80d1","webpack:///./src/pages/Dashboard/Maps/GoogleMaps.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","width","height","attrs","center","zoom","_l","m","index","key","position","on","click","$event","primary-title","staticClass","_v","_s","currentAddress","principal","secondary","directives","name","rawName","value","expression","place_changed","setPlace","staticRenderFns","GoogleMapsvue_type_script_lang_js_","props","initial","res_name","res_second_level","data","lat","lng","markers","places","currentPlace","isMobile","show","addressValue","mounted","geolocate","getInitialValue","console","log","methods","place","addMarker","current","marker","geometry","location","push","_this","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","address","split","watch","val","formatted_address","$emit","second_level","Maps_GoogleMapsvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/71ac.404caabb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',[_c('gmap-map',{staticStyle:{\"width\":\"100%\",\"height\":\"200px\"},attrs:{\"center\":_vm.center,\"zoom\":12}},_vm._l((_vm.markers),function(m,index){return _c('gmap-marker',{key:index,attrs:{\"position\":m.position},on:{\"click\":function($event){_vm.center=m.position}}})}),1),_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_c('div',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.currentAddress.principal))]),_c('span',{staticClass:\"grey--text\"},[_vm._v(_vm._s(_vm.currentAddress.secondary))])])]),_c('v-card-actions'),_c('v-slide-y-transition',[_c('v-card-text',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_c('div',{staticClass:\"md-layout\"},[_c('div',{staticClass:\"md-layout-item md-size-80 md-small-size-100\"},[_c('gmap-autocomplete',{on:{\"place_changed\":_vm.setPlace}})],1),_c('div',{staticClass:\"md-layout-item md-size-20\"})])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- <div>\n      <label>\n        <gmap-autocomplete @place_changed=\"setPlace\"></gmap-autocomplete>\n        <button class=\"green btn btn-success\" @click=\"addMarker\">Add</button>\n      </label>\n      <br>\n    </div>\n    <br>-->\n    <v-card>\n      <gmap-map :center=\"center\" :zoom=\"12\" style=\"width:100%;  height: 200px;\">\n        <gmap-marker\n          :key=\"index\"\n          v-for=\"(m, index) in markers\"\n          :position=\"m.position\"\n          @click=\"center=m.position\"\n        ></gmap-marker>\n      </gmap-map>\n      <v-card-title primary-title>\n        <div>\n          <div class=\"headline\">{{currentAddress.principal}}</div>\n          <span class=\"grey--text\">{{currentAddress.secondary}}</span>\n        </div>\n      </v-card-title>\n\n      <v-card-actions></v-card-actions>\n\n      <v-slide-y-transition>\n        <v-card-text v-show=\"show\">\n          <div class=\"md-layout\">\n            <div class=\"md-layout-item md-size-80 md-small-size-100\">\n              <gmap-autocomplete @place_changed=\"setPlace\"></gmap-autocomplete>\n            </div>\n\n            <div class=\"md-layout-item md-size-20\"></div>\n          </div>\n        </v-card-text>\n      </v-slide-y-transition>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport isMobile from '../../../assets/js/isMobile.js';\n\nexport default {\n  name: 'GoogleMap',\n  props: {\n    initial: null,\n    res_name: null,\n    res_second_level: null\n  },\n  data() {\n    return {\n      // default to Montreal to keep it simple\n      center: { lat: null, lng: null },\n      markers: [],\n      places: [],\n      currentPlace: null,\n      isMobile: isMobile,\n      show: true,\n      addressValue: null,\n      currentAddress: {\n        principal: null,\n        secondary: null\n      }\n    };\n  },\n\n  mounted() {\n    this.geolocate();\n    this.getInitialValue();\n    console.log('this.addressValue -> ', this.addressValue);\n    console.log('this.initial -> ', this.initial);\n  },\n\n  methods: {\n    // receives a place object via the autocomplete component\n    setPlace(place) {\n      console.log(place);\n      this.currentPlace = place;\n    },\n    addMarker(current) {\n      if (this.currentPlace) {\n        const marker = {\n          lat: this.currentPlace.geometry.location.lat(),\n          lng: this.currentPlace.geometry.location.lng()\n        };\n\n        this.markers.push({ position: marker });\n        this.places.push(this.currentPlace);\n        this.center = marker;\n        // this.currentPlace = null;\n      }\n    },\n    geolocate: function() {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.center = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n      });\n    },\n\n    getInitialValue() {\n      if (this.addressValue != null) {\n        this.currentAddress.principal =\n          this.addressValue[0] + ', ' + this.addressValue[1];\n        this.currentAddress.secondary =\n          this.addressValue[2] + ', ' + this.addressValue[3];\n      } else {\n        if (this.initial != null) {\n          this.address = this.initial.split(',');\n          console.log(this.address);\n\n          this.currentAddress.principal =\n            this.address[0] + ', ' + this.address[1];\n          this.currentAddress.secondary =\n            this.address[2] + ', ' + this.address[3];\n        }\n      }\n    }\n  },\n  watch: {\n    currentPlace: function(val) {\n      this.addressValue = val.formatted_address.split(',');\n      this.addMarker();\n      this.getInitialValue();\n      this.$emit('setAddress', {\n        name: this.res_name,\n        second_level: this.res_second_level,\n        value: val.formatted_address\n      });\n    }\n  }\n};\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMaps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMaps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoogleMaps.vue?vue&type=template&id=82e29062&\"\nimport script from \"./GoogleMaps.vue?vue&type=script&lang=js&\"\nexport * from \"./GoogleMaps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}