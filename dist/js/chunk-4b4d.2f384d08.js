(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b4d","chunk-4756"],{"0ebf":function(t,e,i){},1712:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-content",[i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-100",staticStyle:{padding:"0"}},[t.isMobile?i("md-toolbar",{staticClass:"md-success",staticStyle:{"padding-top":"5%","padding-bottom":"0px"}},[i("div",{staticClass:"md-toolbar-row",attrs:{id:"textField"}},[t.isMobile?i("md-button",{staticClass:"md-just-icon md-simple md-white",staticStyle:{"padding-right":"25px","margin-top":"-5%"},on:{click:function(e){return t.closeItemDialog()}}},[i("md-icon",[t._v("arrow_back")])],1):t._e(),i("autocomplete",{staticStyle:{width:"100%"},attrs:{config:t.acomplete},on:{clickOnItem:t.updateItem,optionalInputFunction:t.updateItem}}),i("center",[i("md-button",{staticClass:"md-just-icon md-simple md-white",staticStyle:{"padding-left":"25px","margin-top":"-40%"},on:{click:function(e){return t.createItem(t.getItem.name)}}},[i("md-icon",[t._v(t._s(""!=t.getItem.name?"add":""))])],1)],1)],1)]):i("div",{staticStyle:{display:"contents"},attrs:{id:"textField"}},[i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-80"},[i("autocomplete",{staticStyle:{width:"100%"},attrs:{config:t.acomplete},on:{clickOnItem:t.updateItem,optionalInputFunction:t.updateItem}})],1),i("div",{staticClass:"md-layout-item md-size-20"},[i("md-button",{staticClass:"md-just-icon md-success",on:{click:function(e){return t.createItem(t.getItem.name)}}},[i("md-icon",[t._v("add")])],1)],1)])]),t.isMobile?t._e():i("v-subheader",[t._v("Ultimos utilizados")]),t.isMobile?t._e():i("v-divider")],1),i("div",{staticClass:"md-layout-item md-size-100",staticStyle:{padding:"0"}},[i("v-list",[t.getUserLastItems.length>0&&t.isMobile?i("div",{staticStyle:{display:"contents"}},t._l(t.getUserLastItems,function(e,n){return i("v-list-tile",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"init",rawName:"v-init:currencyScope",value:{options:{thousandsSeparator:t.getIncome.currency.thousand,decimalSeparator:t.getIncome.currency.decimal,spaceBetweenAmountAndSymbol:!0}},expression:"{options: {thousandsSeparator:getIncome.currency.thousand,decimalSeparator:getIncome.currency.decimal,spaceBetweenAmountAndSymbol: true} }",arg:"currencyScope"}],key:e.title,attrs:{avatar:""}},[i("div",{staticStyle:{display:"contents"}},[i("v-list-tile-content",{on:{click:function(e){return t.handleItem(n)}}},[i("v-list-tile-title",{staticStyle:{color:"#424242"}},[t._v(t._s(t._f("capitalize")(e.name)))])],1),i("v-list-tile-action",[i("center",[i("div",{staticClass:"md-layout"},[i("div",{class:["md-layout-item md-size-100"],staticStyle:{padding:"0"}},[i("center",{on:{click:function(e){return t.handleItem(n)}}},[i("zoom-center-transition",{attrs:{duration:900}},[t.getSelectedItemsAdd.indexOf(n)<0?i("v-icon",{attrs:{color:"green"}},[t._v("add")]):i("v-icon",{attrs:{color:"green"}},[t._v("check_circle")])],1)],1)],1)])])],1)],1)])}),1):t._e(),t.getUserLastItems.length>0&&!t.isMobile?i("div",{staticStyle:{display:"contents"}},t._l(t.getUserLastItems,function(e,n){return i("div",{directives:[{name:"init",rawName:"v-init:currencyScope",value:{options:{thousandsSeparator:t.getIncome.currency.thousand,decimalSeparator:t.getIncome.currency.decimal,spaceBetweenAmountAndSymbol:!0}},expression:"{options: {thousandsSeparator:getIncome.currency.thousand,decimalSeparator:getIncome.currency.decimal,spaceBetweenAmountAndSymbol: true} }",arg:"currencyScope"}],key:e.title,staticStyle:{display:"contents"}},[t.getSelectedItemsAdd.indexOf(n)<0?i("v-chip",{staticStyle:{"box-shadow":"1px 1px grey"},attrs:{color:"white"},on:{click:function(e){return t.handleItem(n)}}},[i("strong",[t._v(t._s(e.name))]),t._v(" \n                "),i("span",[t._v(t._s(t._f("currency")(e.lastPrice,t.getIncome.currency.prefix,t.getIncome.currency.precision,t.currencyScope.options)))])]):i("v-chip",{attrs:{color:"green","text-color":"white"},on:{click:function(e){return t.handleItem(n)}}},[i("v-avatar",{staticClass:"green darken-4"},[i("v-icon",[t._v("check")])],1),i("strong",[t._v(t._s(e.name))]),t._v(" \n                "),i("span",[t._v(t._s(t._f("currency")(e.lastPrice,t.getIncome.currency.prefix,t.getIncome.currency.precision,t.currencyScope.options)))])],1)],1)}),0):t._e(),t.getUserLastItems.length<=0?i("div",[i("md-empty-state",{staticClass:"md-success",attrs:{"md-icon":"add_shopping_cart","md-label":"Aun no tienes items","md-description":"Crea un item colocando su nombre y presionando el simbolo de ( + ) de la barra de navegacion."}})],1):t._e()])],1),i("div",{staticClass:"md-layout-item md-size-100"})])])],1)},a=[],s=i("cebc"),c=i("e814"),o=i.n(c),l=(i("7f7f"),i("2f62")),r=(i("2ef0"),i("4bff")),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("money",t._b({attrs:{name:t.field},nativeOn:{input:function(e){return t.update(e.target)}},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}},"money",t.money,!1))],1)},u=[],d=(i("4917"),i("716b")),p={components:{Money:d["Money"]},props:{number:0,field:""},data:function(){return{price:0,isSale:null,money:{decimal:",",thousands:".",prefix:"$ ",suffix:" CLP",precision:0,masked:!0}}},mounted:function(){this.price=this.number},methods:{trasnform:function(t){var e=t.match(/\d/g).join(""),i=o()(e);return i},update:function(t){var e={name:t.name,value:this.trasnform(t.value)};this.$emit("updateFunc",e)}}},g=p,v=i("2877"),h=Object(v["a"])(g,m,u,!1,null,null,null),y=h.exports,I=i("8f2c"),f=i("7c76"),b=i("f06b"),_={props:{item:{}},components:{money:y,autocomplete:r["a"],ZoomCenterTransition:f["f"]},data:function(){return{sheet:!1,value:"",test:!0,bottomShett:!1,comments:[],loading:!1,isBlock:null,isMobile:null,localQuantity:0,onSelect:!1,selectedItems:[],selected:[],acomplete:{itemType:"items",initialValue:"",principalAtribute:"name",secondaryAtribute:"",optionalMultipleAtribute:"",secondaryQuery:null,placeholder_value:"Buscar / Crear items...",searchRoute:"",res_name:"item",optionalInputFunction_res:{0:"name"}},optIndex:"",priceSeted:"",currencyScope:{}}},created:function(){var t=this;this.acomplete.searchRoute=I["a"]+"/items/find/";var e={parent:this.getItem._id,type:"item"};this.loading=!0,this.item._id&&this.getAllComments(e).then(function(e){t.loading=!1})},mounted:function(){this.isMobile=b["a"],this.acomplete.initialValue=this.getItem.name,this.getUserItems().then(function(t){}),this.localQuantity=isNaN(this.getItem.quantity)?o()(this.getItem.quantity):this.getItem.quantity,this.optIndex=0},methods:Object(s["a"])({},Object(l["b"])({postItem:"items/postItem",getAllComments:"comments/getAllComments",postComment:"comments/postComment",getUserItems:"items/getUserItems",findItem:"items/findItem"}),Object(l["d"])({setItem:"items/SET_ITEM",setIncome:"incomes/SET_INCOME",setComment:"comments/SET_COMMENT",cleanItem:"items/CLEAN",setGlobalsCreate:"items/SET_GLOBALS_CREATE",handleItemDialog:"HANDLE_ITEM_DIALOG",handleCheckbox:"items/HANDLE_CHECKBOX",handleSelections:"items/HANDLE_SELECTIONS"}),{updateItem:function(t){if(this.getSelectedItemsAdd.length>0){var e={attr:t.name,value:t.value};this.setGlobalsCreate(e)}else{var i={attr:t.name,value:t.value};this.setItem(i),"item"==t.name&&this.$toasted.show("¡Seleccionaste "+t.value.name,{type:"success"})}},closeItemDialog:function(){this.handleItemDialog(!1)},createItem:function(t){var e=this;if(""!=t){var i={name:t};this.postItem(i).then(function(t){e.$toasted.show("¡Item creado con exito!",{type:"success"})})}else this.$toasted.show("Debe escribir nombre del item!",{type:"warning"})},updateComment:function(t){this.setComment(t)},newComment:function(){var t={parent:this.getItem._id,type:"item",txt:this.COMMENT};this.postComment(t).then(function(t){})},handleItem:function(t){this.optIndex=t,this.handleSelections({var:"selectedItemsAdd",index:t})},changeQuantity:function(t){this.localQuantity>=0?this.localQuantity="add"==t?this.localQuantity+1:this.localQuantity-1:this.localQuantity=0},setPrice:function(t){console.log(t),this.updateItem({name:"price",value:t}),this.priceSeted=t}}),computed:Object(s["a"])({},Object(l["c"])({getItem:"items/getItem",getIncome:"incomes/getIncome",getComments:"comments/getComments",getComment:"comments/getComment",getIsOutcome:"getIsOutcome",getUserLastItems:"items/getUserLastItems",getSelectedItems:"items/getSelectedItems",getSelectedItemsAdd:"items/getSelectedItemsAdd",getShowDialogIncome:"getShowDialogIncome",getGlobalItemVars:" items/getGlobalItemVars",getCurrencyConfig:"getCurrencyConfig"}),{COMMENTS:function(t){return this.getComments},COMMENT:function(t){return this.getComment},PRICES:function(t){return{last:this.getUserLastItems.length>0?this.getUserLastItems[this.optIndex].lastPrice:0,stock:this.getUserLastItems.length>0?this.getUserLastItems[this.optIndex].price:0}}}),watch:{getItem:{handler:function(t){this.acomplete.initialValue=t.name},deep:!0},localQuantity:function(t){var e=t<0?0:t;this.getSelectedItemsAdd.length>0?this.setGlobalsCreate({attr:"quantity",value:o()(e)}):this.setItem({attr:"quantity",value:o()(e)})},getSelectedItemsAdd:function(t){this.sheet=this.getSelectedItemsAdd.length>0}}},S=_,x=(i("c8a0"),Object(v["a"])(S,n,a,!1,null,null,null));e["a"]=x.exports},"4c5a":function(t,e,i){"use strict";var n=i("c4dc"),a=i.n(n);a.a},"59f6":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",id:"itemDetails"},model:{value:t.itemDetails,callback:function(e){t.itemDetails=e},expression:"itemDetails"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"green"}},[i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.itemDetails=!1}}},[t._v("SALIR")])],1),i("v-spacer"),i("v-toolbar-title",[t._v(t._s(t._f("uppercase")(t.actualItem.name)))]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){return t.saveItem()}}},[t._v("Guardar")])],1)],1),i("v-list",{attrs:{"three-line":"",subheader:""}},[t.itemDetails?i("itemDetailsComponent",{attrs:{propID:t.actualItem._id}}):t._e()],1)],1)],1),t.getIncome.lines&&t.getIncome.lines.length>0&&t.isMobile?i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-100",staticStyle:{padding:"0"}},[i("ul",{staticClass:"collection",staticStyle:{border:"none"}},[i("div",[i("v-list",{attrs:{"two-line":"",subheader:""}},[i("transition-group",{attrs:{name:"slide-fade"}},t._l(t.getIncome.lines,function(e,n){return i("v-list-tile",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(i){return t.showOptions(e,n)},right:function(i){return t.removeLine(e)}},expression:"{ \n                  left: (event) => showOptions(line, index),\n                  right: (event) => removeLine(line)\n                }"},{name:"init",rawName:"v-init:currencyScope",value:{symbol:t.getIncome.currency.prefix,decimalNumber:t.getIncome.currency.precition,options:{thousandsSeparator:t.getIncome.currency.thousand,decimalSeparator:t.getIncome.currency.decimal,spaceBetweenAmountAndSymbol:!0}},expression:"{symbol:getIncome.currency.prefix,decimalNumber:getIncome.currency.precition, options: {thousandsSeparator:getIncome.currency.thousand,decimalSeparator:getIncome.currency.decimal,spaceBetweenAmountAndSymbol: true} }",arg:"currencyScope"}],key:e._id,staticStyle:{padding:"0 !important"},attrs:{avatar:"",id:"itemList",value:t.selectedItems}},[i("div",{class:{hideItem:!t.lineOptions},staticStyle:{display:"contents"}},[i("v-list-tile-content",[i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-33"},[i("center",[i("v-btn",{attrs:{flat:"",icon:"",color:"green"}},[i("v-icon",[t._v("edit")])],1)],1)],1),i("div",{staticClass:"md-layout-item md-size-33"},[i("center",[i("v-btn",{attrs:{flat:"",icon:"",color:"blue darken-2"}},[i("v-icon",[t._v("insert_chart")])],1)],1)],1),i("div",{staticClass:"md-layout-item md-size-33"},[i("center",[i("v-btn",{attrs:{flat:"",icon:"",color:"yellow darken-2"}},[i("v-icon",[t._v("person")])],1)],1)],1)])])],1),i("div",{class:{hideItem:t.lineOptions},staticStyle:{display:"contents"}},[i("v-list-tile-avatar",{attrs:{id:"avatar"},on:{click:function(e){return t.selectItem(n,!0)}}},[t.getSelectedItems.indexOf(n)<0?i("v-icon",{staticClass:"headline white green--text"},[t._v(t._s(t._f("uppercase")(e.name.charAt(0))))]):i("v-icon",{staticClass:"green white--text"},[t._v("check")])],1),i("v-list-tile-content",{on:{click:function(e){return t.selectItem(n)}}},[i("v-list-tile-title",{staticClass:"body-1",staticStyle:{color:"#424242"}},[t._v(t._s(e.name))]),i("v-list-tile-sub-title",{staticClass:"caption"},[t._v(t._s(e.quantity)+" x "+t._s(t._f("currency")(e.price,t.currencyScope.symbol,t.currencyScope.decimalNumber,t.currencyScope.opt)))])],1),i("v-list-tile-action",{on:{click:function(e){return t.selectItem(n)}}},[i("div",{staticClass:"md-layout"},[i("div",{class:[t.showCheckbox?"md-layout-item md-size-80":"md-layout-item md-size-100"],staticStyle:{padding:"0"}},[i("small",{staticClass:"body-1 green--text"},[t._v(t._s(t._f("currency")(e.price*e.quantity,t.currencyScope.symbol,t.currencyScope.decimalNumber,t.currencyScope.opt)))])])])])],1)])}),1)],1)],1)])])]):t._e(),t.getIncome.lines&&t.getIncome.lines.length>0&&!t.isMobile?i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-100 md-small-size-100",staticStyle:{padding:"0 !important"}},[i("md-content",{staticClass:"md-scrollbar",staticStyle:{height:"250px"}},[i("ul",{staticClass:"collection",staticStyle:{border:"none"}},[i("div",[i("v-list",{attrs:{"two-line":"",subheader:""}},[i("transition-group",{attrs:{name:"slide-fade"}},t._l(t.getIncome.lines,function(e,n){return i("v-list-tile",{directives:[{name:"hammer",rawName:"v-hammer:swipe.right",value:function(i){return t.removeLine(e)},expression:"(event)=> removeLine(line)",arg:"swipe",modifiers:{right:!0}},{name:"init",rawName:"v-init:currencyScope",value:{symbol:t.getIncome.currency.prefix,decimalNumber:2,options:{thousandsSeparator:t.getIncome.currency.thousand,decimalSeparator:t.getIncome.currency.decimal,spaceBetweenAmountAndSymbol:!0}},expression:"{symbol:getIncome.currency.prefix,decimalNumber:2, options: {thousandsSeparator:getIncome.currency.thousand,decimalSeparator:getIncome.currency.decimal,spaceBetweenAmountAndSymbol: true} }",arg:"currencyScope"}],key:e._id,staticStyle:{padding:"0 !important"},attrs:{avatar:"",id:"itemList",value:t.selectedItems}},[i("div",{staticStyle:{display:"contents"}},[i("v-list-tile-avatar",{on:{click:function(i){return t.seeDetails(e)}}},[t.getSelectedItems.indexOf(n)<0?i("v-icon",{staticClass:"headline white green--text"},[t._v(t._s(t._f("uppercase")(e.name.charAt(0))))]):i("v-icon",{staticClass:"green white--text"},[t._v("check")])],1),i("v-list-tile-content",{on:{click:function(e){return t.selectItem(n)}}},[i("v-list-tile-title",{staticClass:"body-1",staticStyle:{color:"#424242"}},[t._v(t._s(e.name))]),i("v-list-tile-sub-title",{staticClass:"caption"},[t._v(t._s(e.quantity)+" x "+t._s(t._f("currency")(e.price,t.currencyScope.symbol,t.currencyScope.decimalNumber,t.currencyScope.opt)))])],1),i("v-list-tile-action",[i("div",{staticClass:"md-layout"},[i("div",{class:[t.showCheckbox?"md-layout-item md-size-80":"md-layout-item md-size-100"],staticStyle:{padding:"0"}},[i("small",{staticClass:"body-1 green--text"},[t._v(t._s(t._f("currency")(e.price*e.quantity,t.currencyScope.symbol,t.currencyScope.decimalNumber,t.currencyScope.opt)))])])])])],1)])}),1)],1)],1)])])],1)]):t._e(),t.getIncome.lines.length<=0?i("div",{staticClass:"md-layout",staticStyle:{height:"250px"}},[i("div",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[i("center")],1)]):t._e(),i("br"),i("br"),i("v-bottom-sheet",{attrs:{inset:"","hide-overlay":"",persistent:""},model:{value:t.sheet,callback:function(e){t.sheet=e},expression:"sheet"}},[i("v-card",{attrs:{tile:""}},[i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-90"},[t.getSelectedItems.length<=0?i("v-subheader",[t._v(t._s(t._f("uppercase")(t.getItem.name)))]):i("v-btn",{staticClass:"pull-left",attrs:{flat:"",color:"red"},on:{click:function(e){t.handleEditSelection(!0),t.sheet=!t.sheet}}},[t._v("ELIMINAR")])],1),i("div",{staticClass:"md-layout-item md-size-10"},[i("v-btn",{staticClass:"pull-right",attrs:{flat:"",color:"green "},on:{click:function(e){t.addLine(),t.sheet=!t.sheet}}},[t._v("GUARDAR")])],1)]),1==t.getSelectedItems.length||t.getItem.item?i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-50"},[i("center",[i("small",{staticClass:"md-success",staticStyle:{color:"green"}},[t._v("Ultimo precio")]),1==t.getSelectedItems.length?i("p",[t._v(t._s(t._f("currency")(t.getLastPrice(),t.currencyScope.symbol,t.currencyScope.decimalNumber,t.currencyScope.opt)))]):t._e()])],1),i("div",{staticClass:"md-layout-item md-size-50"},[i("center",[i("small",{staticStyle:{color:"green"}},[t._v("En stock")]),i("p",[t._v("$ 95.000")])])],1)]):t._e(),i("div",{staticClass:"md-layout"},[1==t.getSelectedItems.length||t.getItem.item?i("div",{staticClass:"md-layout-item md-size-100",staticStyle:{padding:"0"}},[i("center",[i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-100",staticStyle:{padding:"0"}},[i("center",[i("br"),i("v-list",[t.getItem.item?i("v-subheader",[t._v(t._s(t._f("uppercase")(t.getItem.name)))]):t._e(),i("v-list-tile",[i("v-layout",{attrs:{"justify-center":"","fill-height":""}},[i("v-flex",{attrs:{xs6:"",id:"textField"}},[i("v-text-field",{attrs:{name:"price",type:"number",label:"Precio",solo:"","append-icon":"attach_money",color:"green"},nativeOn:{input:function(e){return t.updateItem(e.target)}}})],1),i("v-spacer"),i("h4"),i("v-spacer"),i("v-flex",{attrs:{xs6:""}},[i("v-layout",{attrs:{id:"textField"}},[i("v-flex",{attrs:{xs9:""}},[i("v-text-field",{attrs:{name:"quantity",type:"number",label:"#",min:"0",solo:"","append-icon":"swap_vert",color:"green"},nativeOn:{input:function(e){return t.updateItem(e.target)}},model:{value:t.localQuantity,callback:function(e){t.localQuantity=e},expression:"localQuantity"}})],1),i("v-spacer"),i("v-flex",{staticStyle:{"margin-top":"-14%"},attrs:{xs3:""}},[i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{attrs:{xs12:""}},[i("v-btn",{attrs:{flat:"",icon:"",color:"green white--text"},on:{click:function(e){return t.changeQuantity("add")}}},[i("v-icon",[t._v("add")])],1)],1)],1),i("v-layout",{attrs:{"align-center":""}},[i("v-flex",{attrs:{xs12:""}},[i("v-btn",{attrs:{flat:"",icon:"",color:"red white--text"},on:{click:function(e){return t.changeQuantity("remove")}}},[i("v-icon",[t._v("remove")])],1)],1)],1)],1)],1)],1)],1)],1)],1),i("br")],1)],1)])])],1):i("div",{staticClass:"md-layout-item md-size-100"},[i("br"),i("v-layout",[i("v-flex",{attrs:{xs12:"","justify-center":""}},[i("v-list",[i("v-list-tile",[i("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[i("v-flex",{attrs:{xs4:""}},[i("v-btn",{staticClass:"pull-right",attrs:{icon:"",color:"red white--text"},on:{click:function(e){return t.changeQuantity("remove")}}},[i("v-icon",[t._v("remove")])],1)],1),i("v-flex",{attrs:{xs4:"",id:"textField"}},[i("v-text-field",{attrs:{name:"quantity",type:"number",label:"#",min:"0",solo:""},nativeOn:{input:function(e){return t.updateItem(e.target)}},model:{value:t.localQuantity,callback:function(e){t.localQuantity=e},expression:"localQuantity"}})],1),i("v-flex",{attrs:{xs4:""}},[i("v-btn",{attrs:{icon:"",color:"green white--text"},on:{click:function(e){return t.changeQuantity("add")}}},[i("v-icon",[t._v("add")])],1)],1)],1)],1)],1)],1)],1)],1)])])],1)],1)},a=[],s=(i("7f7f"),i("cebc")),c=i("e814"),o=i.n(c),l=i("2f62"),r=i("2af9"),m=i("1712"),u=i("f06b"),d=i("7362"),p=i("7c76"),g=i("9b36"),v=i("cd88"),h={props:{},components:{Modal:r["k"],itemForm:m["a"],dialogButton:d["a"],ZoomCenterTransition:p["f"],SlideXRightTransition:p["c"],spinner:g["a"],itemDetailsComponent:v["default"]},data:function(){return{localItems:{},showDialog:!1,isMobile:"",selectedItems:[],showCheckbox:!1,showItem:!0,sheet:!1,localQuantity:0,checkboxTest:null,itemDetails:!1,actualItem:{},currencyScope:{},lineOptions:!1}},created:function(){this.localItems=this.items,this.isMobile=u["a"]},mounted:function(){this.localQuantity=isNaN(this.getItem.quantity)?o()(this.getItem.quantity):this.getItem.quantity},methods:Object(s["a"])({},Object(l["b"])({deleteLine:"incomes/deleteLine",postLine:"incomes/postLine",putLine:"incomes/putLine",findItem:"items/findItem",putItem:"items/putItem"}),Object(l["d"])({changeItem:"items/SET_ITEM",hideShowBottom:"HIDE_SHOW_BOTTOM",cleanItem:"items/CLEAN",newLine:"incomes/ADD_LINE",setGlobalsCreate:"items/SET_GLOBALS_CREATE",editSelection:"items/EDIT_SELECTION",handleCheckbox:"items/HANDLE_CHECKBOX",handleSelections:"items/HANDLE_SELECTIONS"}),{selectItem:function(t,e){e?this.handleSelections({var:"selectedItems",index:t}):this.handleSelections({var:"selectedItems",index:t,isSingle:!0})},updateItem:function(t){if(this.getSelectedItems.length>0){var e={attr:t.name,value:t.value};this.setGlobalsCreate(e)}else{var i={attr:t.name,value:t.value};this.changeItem(i)}},closeDialog:function(t,e){this.isMobile&&(this.showDialog=t,this.hideShowBottom(e))},addLine:function(){var t=this;this.updateItem({name:"movementType",value:this.MOVEMENT_TYPE}),this.getSelectedItems.length>0?(console.log("entro en el muchos"),this.handleEditSelection(!1)):this.getItem.name?this.getItem._id?(console.log("entro en el putttt"),this.changeItem({attr:"currency",value:this.getIncome.currency}),this.putLine(this.getItem).then(function(e){t.closeDialog(!1,!1),t.cleanItem()})):this.postLine(this.getItem).then(function(e){t.$toasted.show("Agregado con exito!"),t.closeDialog(!1,!1)}):this.$toasted.show("Item inexistente!",{type:"danger"})},removeLine:function(t){var e=this;this.showItem=!1,this.deleteLine(t).then(function(t){e.$toasted.show("Eliminado con exito!"),e.closeDialog(!1,!1),e.showItem=!0})},showOptions:function(t,e){this.lineOptions=!this.lineOptions},changeQuantity:function(t){this.localQuantity>=0?this.localQuantity="add"==t?this.localQuantity+1:this.localQuantity-1:this.localQuantity=0},handleEditSelection:function(t){var e={var:"selectedItems",movementType:this.MOVEMENT_TYPE,edit:{price:this.getGlobalItemVars.price,quantity:this.getGlobalItemVars.quantity},delete:t};this.editSelection(e)},seeDetails:function(t){var e=this;this.findItem(t.item).then(function(t){console.log(t),e.actualItem=t,e.itemDetails=!0})},saveItem:function(){var t=this;this.putItem(this.getItem).then(function(e){t.itemDetails=!1})},getLastPrice:function(){var t=this;if(this.getIncome.lines.length>0&&1==this.getSelectedItems.length){var e=this.getIncome.lines[this.getSelectedItems[0]].item.global.filter(function(e){return e.currency==t.getUser.currency._id});return console.log(e),"income"==this.MOVEMENT_TYPE?e[0]?e[0].lastPrice.sell:0:e[0]?e[0].lastPrice.buy:0}return 0}}),computed:Object(s["a"])({},Object(l["c"])({getItem:"items/getItem",getIncome:"incomes/getIncome",getSelectedItems:"items/getSelectedItems",getGlobalItemVars:"items/getGlobalItemVars",getUserLastItems:"items/getUserLastItems",getSelectedItemsAdd:"items/getSelectedItemsAdd",getUser:"users/user"}),{MOVEMENT_TYPE:function(){return"Income"==this.$route.name?"income":"outcome"}}),watch:{getSelectedItems:function(t){this.sheet=this.getSelectedItems.length>0},localQuantity:function(t){var e=t<0?0:t;this.getSelectedItems.length>0?this.setGlobalsCreate({attr:"quantity",value:o()(e)}):this.changeItem({attr:"quantity",value:o()(e)})}}},y=h,I=(i("4c5a"),i("2877")),f=Object(I["a"])(y,n,a,!1,null,null,null);e["a"]=f.exports},"5d6b":function(t,e,i){var n=i("e53d").parseInt,a=i("a1ce").trim,s=i("e692"),c=/^[-+]?0[xX]/;t.exports=8!==n(s+"08")||22!==n(s+"0x16")?function(t,e){var i=a(String(t),3);return n(i,e>>>0||(c.test(i)?16:10))}:n},7445:function(t,e,i){var n=i("63b6"),a=i("5d6b");n(n.G+n.F*(parseInt!=a),{parseInt:a})},"85b8":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-content",[i("v-bottom-nav",{attrs:{fixed:"",app:"",mandatory:"",value:t.getShowTotals,color:"white"}},[i("div",{staticClass:"md-layout"},[i("div",{staticClass:"md-layout-item md-size-33"},[i("center",[i("span",[i("b",[t._v("Subtotal")])]),i("p",{staticStyle:{width:"80%","font-size":"90%","margin-top":"5%"}},[t._v(t._s(t._f("currency")(t.TOTAL.net)))])])],1),i("div",{staticClass:"md-layout-item md-size-33"},[i("center",[i("span",[i("b",[t._v("Impuesto")])]),i("p",{staticStyle:{width:"80%","font-size":"90%","margin-top":"5%"}},[t._v(t._s(t._f("currency")(t.TOTAL.tax)))])])],1),i("div",{staticClass:"md-layout-item md-size-33"},[i("center",[i("span",[i("b",[t._v("Total")])]),i("p",{staticStyle:{width:"80%","font-size":"90%","margin-top":"5%"}},[t._v(t._s(t._f("currency")(t.TOTAL.total)))])])],1)])])],1)],1)},a=[],s=i("cebc"),c=i("2f62"),o=i("2ef0"),l=i.n(o),r={props:{totals:{}},data:function(){return{show:!0}},methods:{},computed:Object(s["a"])({},Object(c["c"])({getIncome:"incomes/getIncome",getShowTotals:"getShowTotals"}),{TOTAL:function(){var t=l.a.sumBy(this.getIncome.lines,function(t){return t.price*t.quantity});return{net:t,tax:.19*t,total:.19*t+t}}})},m=r,u=i("2877"),d=Object(u["a"])(m,n,a,!1,null,null,null);e["a"]=d.exports},9577:function(t,e,i){"use strict";var n=i("dea3"),a=i.n(n);a.a},a1ce:function(t,e,i){var n=i("63b6"),a=i("25eb"),s=i("294c"),c=i("e692"),o="["+c+"]",l="​",r=RegExp("^"+o+o+"*"),m=RegExp(o+o+"*$"),u=function(t,e,i){var a={},o=s(function(){return!!c[t]()||l[t]()!=l}),r=a[t]=o?e(d):c[t];i&&(a[i]=r),n(n.P+n.F*o,"String",a)},d=u.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(r,"")),2&e&&(t=t.replace(m,"")),t};t.exports=u},b9e9:function(t,e,i){i("7445"),t.exports=i("584a").parseInt},c4dc:function(t,e,i){},c8a0:function(t,e,i){"use strict";var n=i("0ebf"),a=i.n(n);a.a},cd88:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"textField"}},[t.loading?n("div",[n("center",[t.loading?n("spinner"):t._e()],1)],1):n("div",{staticClass:"md-layout md-gutter md-alignment-center-center",staticStyle:{margin:"0"}},[n("div",{staticClass:"md-layout-item md-size-40 md-small-size-100",staticStyle:{padding:"0"}},[n("center",[n("v-card",[n("v-img",{attrs:{src:i("9fa1"),"aspect-ratio":"2.75"}},[n("v-layout",{attrs:{column:"","fill-height":""}},[n("v-card-title",[n("v-spacer"),n("v-btn",{attrs:{dark:"",icon:""}},[n("v-icon",[t._v("create")])],1)],1),n("v-spacer")],1)],1),n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("v-subheader",[t._v("Item")]),n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item md-size-100"},[n("v-text-field",{attrs:{label:"Nombre del item",name:"name",autofocus:"",value:t.ITEM.name,color:"green","single-line":"",outline:"","append-icon":"add_shopping_cart"},nativeOn:{input:function(e){return t.updateItem(e.target)}}})],1)]),n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item md-size-100"},[n("v-text-field",{attrs:{name:"price",value:t.ITEM.price,label:"Precio",color:"green","single-line":"",type:"number",outline:"","append-icon":"monetization_on"},nativeOn:{input:function(e){return t.updateItem(e.target)}}})],1)]),n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item md-size-100"},[n("v-select",{attrs:{"append-icon":"assessment",color:"green",name:"tax","small-chips":"","return-object":"",value:t.ITEM.tax,"deletable-chips":"",items:t.getTaxes.docs,"item-text":"name","item-value":"number",chips:"",label:"Impuesto",multiple:"",outline:""},on:{change:function(e){return t.handleSelect(e)}}})],1)]),n("v-subheader",[t._v("Estimado")]),n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item md-size-50"},[n("center",[n("v-btn",{attrs:{flat:"",icon:"",color:t.ITEM.estimate.buy.lock?"red":"green"},on:{click:function(e){return t.handleLock("buy")}}},[n("v-icon",[t._v(t._s(t.ITEM.estimate.buy.lock?"lock":"lock_open"))])],1)],1),n("v-spacer"),n("v-text-field",{attrs:{type:"number",name:"estimate",value:t.ITEM.estimate.buy.price,label:"Compra",color:"green","single-line":"",outline:""},nativeOn:{input:function(e){return t.updateItem(e.target,"buy","price")}}})],1),n("div",{staticClass:"md-layout-item md-size-50"},[n("center",[n("v-btn",{attrs:{flat:"",icon:"",color:t.ITEM.estimate.sell.lock?"red":"green"},on:{click:function(e){return t.handleLock("sell")}}},[n("v-icon",[t._v(t._s(t.ITEM.estimate.sell.lock?"lock":"lock_open"))])],1)],1),n("v-text-field",{attrs:{name:"estimate",value:t.ITEM.estimate.sell.price,type:"number",label:"Venta",color:"green","single-line":"",outline:""},nativeOn:{input:function(e){return t.updateItem(e.target,"sell","price")}}})],1)]),n("v-subheader",[t._v("Margen")]),n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item md-size-50"},[n("v-subheader",[t._v("Maximo +")]),n("center",[n("v-radio-group",{staticClass:"align-center justify-center",attrs:{row:"",mandatory:!1},on:{change:function(e){return t.handleChange(e,"max")}},model:{value:t.marginMax,callback:function(e){t.marginMax=e},expression:"marginMax"}},[n("v-radio",{attrs:{color:"green",label:"$",name:"marginMax",value:"price"}}),n("v-radio",{attrs:{label:"%",color:"green",name:"marginMax",value:"percentage"}})],1)],1),n("v-text-field",{attrs:{name:"margin",value:0!=t.ITEM.margin.max.price?t.ITEM.margin.max.price:t.ITEM.margin.max.percentage,type:"number",label:"",color:"green","single-line":"",outline:"","append-icon":"arrow_upward"},nativeOn:{input:function(e){return t.updateItem(e.target,"max","marginMax")}}})],1),n("div",{staticClass:"md-layout-item md-size-50"},[n("v-subheader",[t._v("Minimo -")]),n("center",[n("v-radio-group",{staticClass:"align-center justify-center",attrs:{row:"",mandatory:!1},on:{change:function(e){return t.handleChange(e,"min")}},model:{value:t.marginMin,callback:function(e){t.marginMin=e},expression:"marginMin"}},[n("v-radio",{attrs:{color:"green",label:"$",name:"marginMin",value:"price"}}),n("v-radio",{attrs:{name:"marginMin",color:"green",label:"%",value:"percentage"}})],1)],1),n("v-text-field",{staticClass:"readonly",attrs:{name:"margin",value:0!=t.ITEM.margin.min.price?t.ITEM.margin.min.price:t.ITEM.margin.min.percentage,type:"number",label:"",color:"green","single-line":"",outline:"","append-icon":"arrow_downward"},nativeOn:{input:function(e){return t.updateItem(e.target,"min","marginMin")}}})],1)])],1)])],1)],1)],1)])])},a=[],s=(i("7f7f"),i("cebc")),c=i("2f62"),o=(i("f06b"),i("07a4")),l=i("9b36"),r={props:{propID:null},data:function(){return{marginMin:"price",marginMax:"price",loading:!0}},components:{spinner:l["a"]},created:function(){},mounted:function(){var t=this;if(this.getAllTaxes(),this.$route.params.id){var e=null!=this.propID?this.propID:this.$route.params.id;this.getOneItem(e).then(function(e){t.loading=!1,t.marginMin=0!=t.getItem.margin.min.percentage?"percentage":"price",t.marginMax=0!=t.getItem.margin.max.percentage?"percentage":"price"})}else this.loading=!1;this.cleanItem()},methods:Object(s["a"])({},Object(c["b"])({getAllTaxes:"tax/getAllTaxes",getOneItem:"items/findItem"}),Object(c["d"])({setItem:"items/SET_ITEM",handleSelectInput:"items/HANDLE_SELECT_INPUT",cleanItem:"items/CLEAN"}),{updateItem:function(t,e,i){i="margin"==t.name?this[i]:i;var n={attr:t.name,attr2:e,attr3:i,value:t.value};this.setItem(n)},handleSelect:function(t){this.handleSelectInput(t)},handleLock:function(t){var e=this.getItem.estimate[t].lock;e=!e,this.setItem({attr:"estimate",attr2:t,attr3:"lock",value:e})},handleChange:function(t,e){for(var i=["price","percentage"],n=0;n<i.length;n++){var a=i[n],s={attr:"margin",attr2:e,attr3:a,value:0};this.setItem(s)}}}),computed:Object(s["a"])({},Object(c["c"])({getItem:"items/getItem",getTaxes:"tax/getTaxes"}),{ITEM:function(){return{name:this.getItem.name,tax:this.getItem.tax,quantity:this.getItem.quantity,estimate:{buy:{lock:this.getItem.estimate.buy.lock,price:this.getItem.estimate.buy.price},sell:{lock:this.getItem.estimate.sell.lock,price:this.getItem.estimate.sell.price}},margin:{max:{percentage:this.getItem.margin.max.percentage,price:this.getItem.margin.max.price},min:{percentage:this.getItem.margin.min.percentage,price:this.getItem.margin.min.price}},price:this.getItem.price}}}),watch:{getItem:{handler:function(t){console.log(t)},deep:!0}},beforeRouteEnter:function(t,e,i){o["a"].commit("HIDE_SHOW_BOTTOM",!1),i()},beforeRouteLeave:function(t,e,i){o["a"].commit("HIDE_SHOW_BOTTOM",!0),i()}},m=r,u=(i("9577"),i("2877")),d=Object(u["a"])(m,n,a,!1,null,null,null);e["default"]=d.exports},dea3:function(t,e,i){},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,i){t.exports=i("b9e9")}}]);
//# sourceMappingURL=chunk-4b4d.2f384d08.js.map