(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1468","71ac"],{"71ac":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",[s("gmap-map",{staticStyle:{width:"100%",height:"200px"},attrs:{center:t.center,zoom:12}},t._l(t.markers,function(e,a){return s("gmap-marker",{key:a,attrs:{position:e.position},on:{click:function(s){t.center=e.position}}})}),1),s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("div",{staticClass:"headline"},[t._v(t._s(t.currentAddress.principal))]),s("span",{staticClass:"grey--text"},[t._v(t._s(t.currentAddress.secondary))])])]),s("v-card-actions"),s("v-slide-y-transition",[s("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-80 md-small-size-100"},[s("gmap-autocomplete",{on:{place_changed:t.setPlace}})],1),s("div",{staticClass:"md-layout-item md-size-20"})])])],1)],1)],1)},i=[],n=(s("28a5"),s("f06b")),d={name:"GoogleMap",props:{initial:null,res_name:null,res_second_level:null},data:function(){return{center:{lat:null,lng:null},markers:[],places:[],currentPlace:null,isMobile:n["a"],show:!0,addressValue:null,currentAddress:{principal:null,secondary:null}}},mounted:function(){this.geolocate(),this.getInitialValue(),console.log("this.addressValue -> ",this.addressValue),console.log("this.initial -> ",this.initial)},methods:{setPlace:function(t){console.log(t),this.currentPlace=t},addMarker:function(t){if(this.currentPlace){var e={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:e}),this.places.push(this.currentPlace),this.center=e}},geolocate:function(){var t=this;navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude}})},getInitialValue:function(){null!=this.addressValue?(this.currentAddress.principal=this.addressValue[0]+", "+this.addressValue[1],this.currentAddress.secondary=this.addressValue[2]+", "+this.addressValue[3]):null!=this.initial&&(this.address=this.initial.split(","),console.log(this.address),this.currentAddress.principal=this.address[0]+", "+this.address[1],this.currentAddress.secondary=this.address[2]+", "+this.address[3])}},watch:{currentPlace:function(t){this.addressValue=t.formatted_address.split(","),this.addMarker(),this.getInitialValue(),this.$emit("setAddress",{name:this.res_name,second_level:this.res_second_level,value:t.formatted_address})}}},l=d,m=s("2877"),o=Object(m["a"])(l,a,i,!1,null,null,null);e["default"]=o.exports},"9bc4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"textField"}},[t.loading?a("div",[a("spinner")],1):a("md-content",{staticStyle:{"max-height":"90vh !important"},attrs:{id:"first"}},[t.isMobile?a("md-content",{staticClass:"md-elevation-4"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-80"},[a("h1",{staticClass:"md-title",staticStyle:{color:"gray","margin-top":"14px","margin-bottom":"0px"}},[t._v(t._s(t._f("uppercase")(""!=t.getOneCompany.name?t.getOneCompany.name:"Nueva empresa")))]),a("small",{staticClass:"md-caption"},[t._v(t._s(t.getOneCompany.website))])]),a("div",{staticClass:"md-layout-item md-size-20",staticStyle:{"margin-top":"15px"}},[a("md-avatar",[a("img",{attrs:{src:s("1b36"),alt:"Avatar"}})])],1)])]):a("md-content",{staticClass:"md-elevation-4"},[a("slide-y-up-transition",{attrs:{duration:500}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-80"},[a("h1",{staticClass:"md-display-1"},[t._v(t._s(t._f("uppercase")(""!=t.getOneCompany.name?t.getOneCompany.name:"Nueva empresa")))]),a("small",{staticClass:"md-caption"},[t._v(t._s(t.getOneCompany.website))])]),a("div",{staticClass:"md-layout-item md-size-20"},[a("br"),a("div",{staticClass:"file-input img-circle"},[a("div",{staticClass:"image-container"},[a("img",{attrs:{src:s("1b36")}})])])])])])],1),a("md-divider",{staticClass:"md-inset"}),a("br"),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[a("md-field",[a("v-text-field",{attrs:{color:"green",label:"RUT",value:t.COMPANY.idNumber,name:"idNumber",type:"text",outline:"","append-icon":"verified_user"},nativeOn:{input:function(e){return t.update(e.target)}}})],1)],1),a("div",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[a("md-field",[a("v-text-field",{attrs:{outline:"",color:"green",label:"Razon social",value:t.COMPANY.legalName?t.COMPANY.legalName:"",name:"legalName",type:"text"},on:{blur:function(e){return t.update(e.target)}}})],1)],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[a("md-field",[a("v-text-field",{attrs:{outline:"",label:"Nombre",color:"green",value:t.COMPANY.name,name:"name",type:"text","append-icon":"business"},nativeOn:{input:function(e){return t.update(e.target)}}})],1)],1),a("div",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[a("md-field",[a("v-text-field",{attrs:{color:"green",outline:"",label:"Sitio web",name:"website",value:t.COMPANY.website,"append-icon":"public"},nativeOn:{input:function(e){return t.update(e.target)}}})],1)],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-80"},[a("br"),a("span",[a("b",[t._v("Telefonos de la empresa")])])]),a("div",{staticClass:"md-layout-item md-size-20"},[a("span",[0==t.addPhone?a("md-button",{staticClass:"md-just-icon md-round md-dense md-success md-simple",staticStyle:{"margin-top":"10px"},on:{click:function(e){t.addPhone=!t.addPhone}}},[a("md-icon",[t._v("add")])],1):a("md-button",{staticClass:"md-just-icon md-round md-dense md-success md-simple",staticStyle:{"margin-top":"10px"},on:{click:function(e){t.addPhone=!t.addPhone}}},[a("md-icon",[t._v("close")])],1)],1)])]),a("md-list",{staticClass:"md-double-line"},t._l(t.COMPANY.phones,function(e,s){return a("md-list-item",{key:e._id},[a("div",{staticClass:"md-list-item-text",on:{click:function(s){return t.updatePhone(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s2"},[a("small",[t._v(t._s(s+1))])]),a("div",{staticClass:"col s10"},[a("span",[a("b",[t._v(t._s(e.phone))])]),a("br"),a("span",[t._v(t._s(e.label))])])])]),a("md-button",{staticClass:"md-just-icon md-danger md-round md-mini md-simple",on:{click:function(s){return t.delete_phone(e)}}},[a("md-icon",[t._v("close")])],1)],1)}),1),a("slide-y-up-transition",{attrs:{duration:500}},[t.addPhone?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-50 md-small-size-50",staticStyle:{padding:"0"}},[a("md-field",[a("label",[t._v("Telefono")]),a("md-input",{attrs:{name:"phone",value:t.phoneState.phone,type:"text"},nativeOn:{input:function(e){return t.updatePhone(e.target)}}})],1)],1),a("div",{staticClass:"md-layout-item md-size-30 md-small-size-30",staticStyle:{"padding-left":"5%"}},[a("md-field",[a("label",[t._v("Etiqueta")]),a("md-input",{attrs:{name:"label",value:t.phoneState.label},on:{blur:function(e){return t.handlePhone()}},nativeOn:{input:function(e){return t.updatePhone(e.target)}}})],1)],1),a("div",{staticClass:"md-layout-item md-size-10"},[a("md-button",{staticClass:"md-simple md-success md-dense md-mini md-round md-just-icon"},[a("md-icon",[t._v("add")])],1)],1)]):t._e()]),a("md-divider")],1),a("div",{staticClass:"md-layout-item md-size-50 md-small-size-100 pull-rigth",attrs:{align:"rigth"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layput-item md-size-80"},[a("br"),a("span",[a("b",[t._v("Emails de la empresa")])])]),a("div",{staticClass:"md-layout-item md-size-20",staticStyle:{"margin-left":"20px"}},[a("center",[a("span",[0==t.addEmail?a("md-button",{staticClass:"md-just-icon md-round md-dense md-success md-simple",staticStyle:{"margin-top":"10px"},on:{click:function(e){t.addEmail=!t.addEmail}}},[a("md-icon",[t._v("add")])],1):a("md-button",{staticClass:"md-just-icon md-round md-dense md-success md-simple",staticStyle:{"margin-top":"10px"},on:{click:function(e){t.addEmail=!t.addEmail}}},[a("md-icon",[t._v("close")])],1)],1)])],1)]),a("md-list",{staticClass:"md-double-line"},t._l(t.COMPANY.emails,function(e){return a("md-list-item",{key:e._id},[a("div",{staticClass:"md-list-item-text",on:{click:function(s){return t.updateEmail(e)}}},[a("span",[a("b",{staticClass:"text-gray darken-1"},[t._v(t._s(e.email))])]),a("span",[t._v(t._s(e.label))])]),a("md-button",{staticClass:"md-just-icon md-danger md-round md-mini md-simple",on:{click:function(s){return t.delete_email(e)}}},[a("md-icon",[t._v("close")])],1)],1)}),1),a("slide-y-up-transition",{attrs:{duration:500}},[t.addEmail?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-50 md-small-size-50",staticStyle:{padding:"0"}},[a("md-field",[a("label",[t._v("Email")]),a("md-input",{attrs:{name:"email",value:t.mailState.email,type:"text"},nativeOn:{input:function(e){return t.updateEmail(e.target)}}})],1)],1),a("div",{staticClass:"md-layout-item md-size-40 md-small-size-40",staticStyle:{"padding-left":"5%"}},[a("md-field",[a("label",[t._v("Etiqueta")]),a("md-input",{attrs:{name:"label",value:t.mailState.label},on:{blur:function(e){return t.handleMail()}},nativeOn:{input:function(e){return t.updateEmail(e.target)}}})],1)],1),a("div",{staticClass:"md-layout-item md-size-10"},[a("md-button",{staticClass:"md-simple md-success md-dense md-mini md-round md-just-icon"},[a("md-icon",[t._v("add")])],1)],1)]):t._e()]),a("md-divider")],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layput-item md-size-80"},[a("br"),a("span",[a("b",[t._v("Direccion de la empresa")])])]),a("div",{staticClass:"md-layout-item md-size-20"},[a("span",[0==t.addAddress?a("md-button",{staticClass:"md-just-icon md-round md-dense md-success md-simple",staticStyle:{"margin-top":"10px"},on:{click:function(e){t.addAddress=!t.addAddress}}},[a("md-icon",[t._v("add")])],1):a("md-button",{staticClass:"md-just-icon md-round md-dense md-danger md-simple",staticStyle:{"margin-top":"10px"},on:{click:function(e){t.addAddress=!t.addAddress}}},[a("md-icon",[t._v("close")])],1)],1)])]),a("slide-y-up-transition",{attrs:{duration:500}},[t.addAddress?a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[a("div",{staticClass:"container-fluid"},[a("googleMaps",{attrs:{initial:t.getOneCompany.address.text,res_name:"address",res_second_level:"text"},on:{setAddress:t.update}})],1)])]):t._e()])],1)]),a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-100",staticStyle:{padding:"0"}},[a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[t._v("Usuarios de la empresa")]),t._l(t.getOneCompany.users,function(e,s){return[a("v-divider",{key:s,attrs:{inset:!0}}),a("v-list-tile",{key:e.user.imgUrl,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("img",{attrs:{src:e.user.imgUrl}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.user.name)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s("<b>"+e.description+"</b>")}})],1)],1)]})],2)],1)]),a("br"),a("br"),a("br")],1)],1)},i=[],n=(s("7f7f"),s("cebc")),d=s("2f62"),l=s("07a4"),m=s("f06b"),o=s("f198"),r=s("7c76"),u=s("9b36"),c=s("71ac"),p={name:"Business",data:function(){return{editing_phone:!1,editing_mail:!1,select:[],isMobile:m["a"],addPhone:!1,addEmail:!1,loading:!0,addAddress:!0,show:!1,items:[{header:"Today"},{avatar:"https://cdn.vuetifyjs.com/images/lists/1.jpg",title:"Brunch this weekend?",subtitle:"<span class='text--primary'>Ali Connors</span> &mdash; I'll be in your neighborhood doing errands this weekend. Do you want to hang out?"},{divider:!0,inset:!0},{avatar:"https://cdn.vuetifyjs.com/images/lists/2.jpg",title:'Summer BBQ <span class="grey--text text--lighten-1">4</span>',subtitle:"<span class='text--primary'>to Alex, Scott, Jennifer</span> &mdash; Wish I could come, but I'm out of town this weekend."},{divider:!0,inset:!0},{avatar:"https://cdn.vuetifyjs.com/images/lists/3.jpg",title:"Oui oui",subtitle:"<span class='text--primary'>Sandra Adams</span> &mdash; Do you have Paris recommendations? Have you ever been?"}]}},components:{scrollBtn:o["a"],SlideYUpTransition:r["e"],spinner:u["a"],googleMaps:c["default"]},methods:Object(n["a"])({},Object(d["b"])({getCompany:"business/getCompany",postCompany:"business/postCompany"}),Object(d["d"])({cleanCompany:"business/CLEAN_COMPANY",setCompany:"business/SET_COMPANY",pushPhone:"business/ADD_PHONE",deletePhone:"business/DELETE_PHONE",upPhone:"business/UPDATE_PHONE",upMail:"business/UPDATE_EMAIL",pushMail:"business/ADD_EMAIL",deleteMail:"business/DELETE_EMAIL",setAddres:"business/SET_ADDRESS",addObject:"business/ADD_OBJECT"}),{update:function(t){t.second_level?this.setCompany({attr:t.name,second_level:t.second_level,value:t.value}):this.setCompany({attr:t.name,value:t.value})},handlePhone:function(){this.editing_phone?(this.upPhone({phone:"",label:""}),this.editing_phone=!1):(this.pushPhone({phone:this.phoneState.phone,label:this.phoneState.label}),this.upPhone({phone:"",label:""})),this.addPhone=!1},delete_phone:function(t){this.deletePhone(t)},updatePhone:function(t){this.addPhone=!0,t.name?this.upPhone({attr:t.name,value:t.value}):(this.editing_phone=!0,this.upPhone(t))},updateEmail:function(t){t.name?this.upMail({attr:t.name,value:t.value}):(this.editing_mail=!0,this.upMail(t))},handleMail:function(){this.editing_mail?(this.upMail({email:"",label:""}),this.editing_mail=!1):(this.pushMail({email:this.mailState.email,label:this.mailState.label}),this.upMail({email:"",label:""})),this.addEmail=!1},delete_email:function(t){this.deleteMail(t)},update_address:function(t){this.setAddres({attr:t.name,value:t.value})},handleObject:function(t){this.addObject({attr:t.name,name:t.value,number:null})}}),created:function(){var t=this;this.$route.params.id?this.getCompany(this.$route.params.id).then(function(e){t.loading=!1,t.addAddress=!0}):(this.loading=!1,this.cleanCompany())},computed:Object(n["a"])({COMPANY:function(){return{idNumber:this.getOneCompany.idNumber,name:this.getOneCompany.name,legalName:this.getOneCompany.legalName,website:this.getOneCompany.website,businessType:this.getOneCompany.businessType,emails:this.getOneCompany.emails,phones:this.getOneCompany.phones,address:this.getOneCompany.address}}},Object(d["c"])({getOneCompany:"business/getOneCompany"}),Object(d["e"])({phoneState:function(t){return t.business.phone},mailState:function(t){return t.business.email}})),beforeRouteEnter:function(t,e,s){l["a"].commit("HIDE_SHOW_BOTTOM",!1),s()},beforeRouteLeave:function(t,e,s){l["a"].commit("HIDE_SHOW_BOTTOM",!0),s()}},h=p,v=s("2877"),y=Object(v["a"])(h,a,i,!1,null,"4cf477f0",null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-1468.33ab7442.js.map