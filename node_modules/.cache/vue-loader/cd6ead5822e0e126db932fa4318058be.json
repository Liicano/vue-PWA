{"remainingRequest":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/desarrollo/Escritorio/unabasev4/src/pages/items/item.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/desarrollo/Escritorio/unabasev4/src/pages/items/item.vue","mtime":1552075991867},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters, mapActions, mapState, mapMutations } from 'vuex';\nimport isMobile from '../../assets/js/isMobile.js';\nimport store from '../../store/store.js';\nimport spinner from '../Dashboard/Components/spinner';\n\nexport default {\n  props: {\n    propID: null\n  },\n  data() {\n    return {\n      marginMin: 'price',\n      marginMax: 'price',\n      loading: true\n    };\n  },\n  components: {\n    spinner\n  },\n\n  created() {},\n  mounted() {\n    this.getAllTaxes();\n    if (this.$route.params.id) {\n      let params = this.propID != null ? this.propID : this.$route.params.id;\n\n      this.getOneItem(params).then(res => {\n        this.loading = false;\n        this.marginMin =\n          this.getItem.margin.min.percentage != 0 ? 'percentage' : 'price';\n        this.marginMax =\n          this.getItem.margin.max.percentage != 0 ? 'percentage' : 'price';\n      });\n    } else {\n      this.loading = false;\n    }\n\n    this.cleanItem();\n  },\n  methods: {\n    ...mapActions({\n      getAllTaxes: 'tax/getAllTaxes',\n      getOneItem: 'items/findItem'\n    }),\n    ...mapMutations({\n      setItem: 'items/SET_ITEM',\n      handleSelectInput: 'items/HANDLE_SELECT_INPUT',\n      cleanItem: 'items/CLEAN'\n    }),\n    updateItem(event, name2, name3) {\n      name3 = event.name == 'margin' ? this[name3] : name3;\n      let obj = {\n        attr: event.name,\n        attr2: name2,\n        attr3: name3,\n        value: event.value\n      };\n      this.setItem(obj);\n    },\n    handleSelect(event) {\n      this.handleSelectInput(event);\n    },\n    handleLock(type) {\n      let state = this.getItem.estimate[type].lock;\n      state = !state;\n      this.setItem({\n        attr: 'estimate',\n        attr2: type,\n        attr3: 'lock',\n        value: state\n      });\n    },\n    handleChange(event, type) {\n      let options = ['price', 'percentage'];\n      for (let option of options) {\n        let obj = {\n          attr: 'margin',\n          attr2: type,\n          attr3: option,\n          value: 0\n        };\n        this.setItem(obj);\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getItem: 'items/getItem',\n      getTaxes: 'tax/getTaxes'\n    }),\n    ITEM() {\n      return {\n        name: this.getItem.name,\n        tax: this.getItem.tax,\n        quantity: this.getItem.quantity,\n        estimate: {\n          buy: {\n            lock: this.getItem.estimate.buy.lock,\n            price: this.getItem.estimate.buy.price\n          },\n          sell: {\n            lock: this.getItem.estimate.sell.lock,\n            price: this.getItem.estimate.sell.price\n          }\n        },\n        margin: {\n          max: {\n            percentage: this.getItem.margin.max.percentage,\n            price: this.getItem.margin.max.price\n          },\n          min: {\n            percentage: this.getItem.margin.min.percentage,\n            price: this.getItem.margin.min.price\n          }\n        },\n        price: this.getItem.price\n      };\n    }\n  },\n\n  watch: {\n    getItem: {\n      handler(val) {\n        console.log(val);\n      },\n      deep: true\n    }\n  },\n\n  // NAVIGATIONS GUARDS\n  beforeRouteEnter: (to, from, next) => {\n    store.commit('HIDE_SHOW_BOTTOM', false);\n    next();\n  },\n\n  beforeRouteLeave(to, from, next) {\n    store.commit('HIDE_SHOW_BOTTOM', true);\n    next();\n  }\n};\n",{"version":3,"sources":["item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"item.vue","sourceRoot":"src/pages/items","sourcesContent":["<template>\n  <div id=\"textField\">\n    <div v-if=\"loading\">\n      <center>\n        <spinner v-if=\"loading\"/>\n      </center>\n    </div>\n\n    <div v-else class=\"md-layout md-gutter md-alignment-center-center\" style=\"margin:0\">\n      <div class=\"md-layout-item md-size-40 md-small-size-100\" style=\"padding:0\">\n        <center>\n          <v-card>\n            <v-img :src=\"require('../../assets/img/item_header.jpg')\" aspect-ratio=\"2.75\">\n              <v-layout column fill-height>\n                <v-card-title>\n                  <v-spacer></v-spacer>\n\n                  <v-btn dark icon>\n                    <v-icon>create</v-icon>\n                  </v-btn>\n                </v-card-title>\n\n                <v-spacer></v-spacer>\n              </v-layout>\n            </v-img>\n            <v-card-title primary-title>\n              <div>\n                <v-subheader>Item</v-subheader>\n\n                <div class=\"md-layout\">\n                  <div class=\"md-layout-item md-size-100\">\n                    <v-text-field\n                      label=\"Nombre del item\"\n                      name=\"name\"\n                      autofocus\n                      @input.native=\"updateItem($event.target)\"\n                      :value=\"ITEM.name\"\n                      color=\"green\"\n                      single-line\n                      outline\n                      append-icon=\"add_shopping_cart\"\n                    ></v-text-field>\n                  </div>\n                </div>\n\n                <div class=\"md-layout\">\n                  <div class=\"md-layout-item md-size-100\">\n                    <v-text-field\n                      name=\"price\"\n                      @input.native=\"updateItem($event.target)\"\n                      :value=\"ITEM.price\"\n                      label=\"Precio\"\n                      color=\"green\"\n                      single-line\n                      type=\"number\"\n                      outline\n                      append-icon=\"monetization_on\"\n                    ></v-text-field>\n                  </div>\n                  <!-- <div class=\"md-layout-item md-size-40\">\n                    <v-text-field\n                      name=\"quantity\"\n                      @input.native=\"updateItem($event.target)\"\n                      :value=\"ITEM.quantity\"\n                      type=\"number\"\n                      label=\"Cantidad\"\n                      color=\"green\"\n                      single-line\n                      outline\n                    ></v-text-field>\n                  </div>-->\n                </div>\n\n                <div class=\"md-layout\">\n                  <div class=\"md-layout-item md-size-100\">\n                    <v-select\n                      append-icon=\"assessment\"\n                      color=\"green\"\n                      name=\"tax\"\n                      @change=\"handleSelect($event)\"\n                      small-chips\n                      return-object\n                      :value=\"ITEM.tax\"\n                      deletable-chips\n                      :items=\"getTaxes.docs\"\n                      :item-text=\"'name'\"\n                      item-value=\"number\"\n                      chips\n                      label=\"Impuesto\"\n                      multiple\n                      outline\n                    ></v-select>\n                  </div>\n                </div>\n\n                <v-subheader>Estimado</v-subheader>\n\n                <div class=\"md-layout\">\n                  <div class=\"md-layout-item md-size-50\">\n                    <center>\n                      <v-btn\n                        flat\n                        icon\n                        :color=\"(ITEM.estimate.buy.lock) ? 'red' : 'green'\"\n                        @click=\"handleLock('buy')\"\n                      >\n                        <v-icon>{{(ITEM.estimate.buy.lock) ? 'lock' : 'lock_open'}}</v-icon>\n                      </v-btn>\n                    </center>\n                    <v-spacer></v-spacer>\n                    <v-text-field\n                      type=\"number\"\n                      name=\"estimate\"\n                      @input.native=\"updateItem($event.target, 'buy', 'price')\"\n                      :value=\"ITEM.estimate.buy.price\"\n                      label=\"Compra\"\n                      color=\"green\"\n                      single-line\n                      outline\n                    ></v-text-field>\n                  </div>\n                  <div class=\"md-layout-item md-size-50\">\n                    <center>\n                      <v-btn\n                        flat\n                        icon\n                        :color=\"(ITEM.estimate.sell.lock) ? 'red' : 'green'\"\n                        @click=\"handleLock('sell')\"\n                      >\n                        <v-icon>{{(ITEM.estimate.sell.lock) ? 'lock' : 'lock_open'}}</v-icon>\n                      </v-btn>\n                    </center>\n                    <v-text-field\n                      name=\"estimate\"\n                      @input.native=\"updateItem($event.target, 'sell', 'price')\"\n                      :value=\"ITEM.estimate.sell.price\"\n                      type=\"number\"\n                      label=\"Venta\"\n                      color=\"green\"\n                      single-line\n                      outline\n                    ></v-text-field>\n                  </div>\n                </div>\n\n                <v-subheader>Margen</v-subheader>\n\n                <div class=\"md-layout\">\n                  <div class=\"md-layout-item md-size-50\">\n                    <v-subheader>Maximo +</v-subheader>\n                    <center>\n                      <v-radio-group\n                        row\n                        class=\"align-center justify-center\"\n                        v-model=\"marginMax\"\n                        :mandatory=\"false\"\n                        @change=\"handleChange($event, 'max')\"\n                      >\n                        <v-radio color=\"green\" label=\"$\" name=\"marginMax\" value=\"price\"></v-radio>\n                        <v-radio label=\"%\" color=\"green\" name=\"marginMax\" value=\"percentage\"></v-radio>\n                      </v-radio-group>\n                    </center>\n\n                    <v-text-field\n                      name=\"margin\"\n                      @input.native=\"updateItem($event.target, 'max', 'marginMax')\"\n                      :value=\"(ITEM.margin.max.price != 0)?ITEM.margin.max.price:ITEM.margin.max.percentage\"\n                      type=\"number\"\n                      label\n                      color=\"green\"\n                      single-line\n                      outline\n                      append-icon=\"arrow_upward\"\n                    ></v-text-field>\n                  </div>\n                  <div class=\"md-layout-item md-size-50\">\n                    <v-subheader>Minimo -</v-subheader>\n                    <center>\n                      <v-radio-group\n                        row\n                        class=\"align-center justify-center\"\n                        v-model=\"marginMin\"\n                        :mandatory=\"false\"\n                        @change=\"handleChange($event, 'min')\"\n                      >\n                        <v-radio color=\"green\" label=\"$\" name=\"marginMin\" value=\"price\"></v-radio>\n                        <v-radio name=\"marginMin\" color=\"green\" label=\"%\" value=\"percentage\"></v-radio>\n                      </v-radio-group>\n                    </center>\n                    <v-text-field\n                      class=\"readonly\"\n                      name=\"margin\"\n                      @input.native=\"updateItem($event.target, 'min', 'marginMin')\"\n                      :value=\"(ITEM.margin.min.price != 0) ? ITEM.margin.min.price : ITEM.margin.min.percentage\"\n                      type=\"number\"\n                      label\n                      color=\"green\"\n                      single-line\n                      outline\n                      append-icon=\"arrow_downward\"\n                    ></v-text-field>\n                  </div>\n                </div>\n              </div>\n            </v-card-title>\n          </v-card>\n        </center>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions, mapState, mapMutations } from 'vuex';\nimport isMobile from '../../assets/js/isMobile.js';\nimport store from '../../store/store.js';\nimport spinner from '../Dashboard/Components/spinner';\n\nexport default {\n  props: {\n    propID: null\n  },\n  data() {\n    return {\n      marginMin: 'price',\n      marginMax: 'price',\n      loading: true\n    };\n  },\n  components: {\n    spinner\n  },\n\n  created() {},\n  mounted() {\n    this.getAllTaxes();\n    if (this.$route.params.id) {\n      let params = this.propID != null ? this.propID : this.$route.params.id;\n\n      this.getOneItem(params).then(res => {\n        this.loading = false;\n        this.marginMin =\n          this.getItem.margin.min.percentage != 0 ? 'percentage' : 'price';\n        this.marginMax =\n          this.getItem.margin.max.percentage != 0 ? 'percentage' : 'price';\n      });\n    } else {\n      this.loading = false;\n    }\n\n    this.cleanItem();\n  },\n  methods: {\n    ...mapActions({\n      getAllTaxes: 'tax/getAllTaxes',\n      getOneItem: 'items/findItem'\n    }),\n    ...mapMutations({\n      setItem: 'items/SET_ITEM',\n      handleSelectInput: 'items/HANDLE_SELECT_INPUT',\n      cleanItem: 'items/CLEAN'\n    }),\n    updateItem(event, name2, name3) {\n      name3 = event.name == 'margin' ? this[name3] : name3;\n      let obj = {\n        attr: event.name,\n        attr2: name2,\n        attr3: name3,\n        value: event.value\n      };\n      this.setItem(obj);\n    },\n    handleSelect(event) {\n      this.handleSelectInput(event);\n    },\n    handleLock(type) {\n      let state = this.getItem.estimate[type].lock;\n      state = !state;\n      this.setItem({\n        attr: 'estimate',\n        attr2: type,\n        attr3: 'lock',\n        value: state\n      });\n    },\n    handleChange(event, type) {\n      let options = ['price', 'percentage'];\n      for (let option of options) {\n        let obj = {\n          attr: 'margin',\n          attr2: type,\n          attr3: option,\n          value: 0\n        };\n        this.setItem(obj);\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      getItem: 'items/getItem',\n      getTaxes: 'tax/getTaxes'\n    }),\n    ITEM() {\n      return {\n        name: this.getItem.name,\n        tax: this.getItem.tax,\n        quantity: this.getItem.quantity,\n        estimate: {\n          buy: {\n            lock: this.getItem.estimate.buy.lock,\n            price: this.getItem.estimate.buy.price\n          },\n          sell: {\n            lock: this.getItem.estimate.sell.lock,\n            price: this.getItem.estimate.sell.price\n          }\n        },\n        margin: {\n          max: {\n            percentage: this.getItem.margin.max.percentage,\n            price: this.getItem.margin.max.price\n          },\n          min: {\n            percentage: this.getItem.margin.min.percentage,\n            price: this.getItem.margin.min.price\n          }\n        },\n        price: this.getItem.price\n      };\n    }\n  },\n\n  watch: {\n    getItem: {\n      handler(val) {\n        console.log(val);\n      },\n      deep: true\n    }\n  },\n\n  // NAVIGATIONS GUARDS\n  beforeRouteEnter: (to, from, next) => {\n    store.commit('HIDE_SHOW_BOTTOM', false);\n    next();\n  },\n\n  beforeRouteLeave(to, from, next) {\n    store.commit('HIDE_SHOW_BOTTOM', true);\n    next();\n  }\n};\n</script>\n<style>\n#textField /deep/ input {\n  background-color: transparent;\n  border: none;\n  border-bottom: none;\n  border-radius: 0;\n  outline: none;\n  height: 100%;\n  width: 100%;\n  font-size: 16px;\n  margin: 0;\n  margin-top: 10px;\n  padding: 0;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n  -webkit-transition: none;\n  transition: none;\n  transition: none;\n  transition: none;\n  max-height: none !important;\n}\n</style>\n"]}]}