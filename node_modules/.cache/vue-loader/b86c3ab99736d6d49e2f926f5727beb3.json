{"remainingRequest":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/desarrollo/Escritorio/unabasev4/src/pages/Dashboard/Components/autocomplete/autocomplete.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/desarrollo/Escritorio/unabasev4/src/pages/Dashboard/Components/autocomplete/autocomplete.vue","mtime":1551219240610},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport VueTypeahead from './main.js';\nimport isMobile from '../../../../assets/js/isMobile.js';\n\nexport default {\n  extends: VueTypeahead,\n\n  props: {\n    config: {}\n  },\n\n  data() {\n    return {\n      showSnackbar: false,\n      isMobile: false,\n      src: '',\n      limit: 5,\n      minChars: 2,\n      showEmpty: true,\n      valueName: null,\n      local_data: null,\n      selectedOpt: null,\n      inCreator: null,\n      pp: null\n    };\n  },\n\n  methods: {\n    onHit(item) {\n      let params = {\n        name: this.config.res_name,\n        value: item,\n        second_level_res: this.config.second_level_res\n          ? this.config.second_level_res\n          : null,\n\n        isClick: true\n      };\n\n      this.showEmpty = false;\n      this.$emit('clickOnItem', params);\n      this.selectedOpt = item.name;\n      this.query = this.selectedOpt;\n\n      // console.log('AQUI TERMINA EL ONHIT');\n    },\n    onEmpty() {\n      this.showEmpty = false;\n      this.$emit('clickOnCreate', this.query);\n      this.selectedOpt = this.query;\n      this.showSnackbar = false;\n    }\n  },\n\n  mounted() {\n    this.pp = this.$props;\n    this.local_data = this.config;\n    this.src = this.config.searchRoute;\n    this.query = this.config.initialValue;\n    this.isMobile = isMobile;\n  },\n\n  computed: {},\n\n  // watch: {\n  //   local_data: function(val, oldVal) {\n  //     console.log('cambio dentro del AUTOCOMPLETEEEEEEEEEEE -> ', val);\n  //     this.query = this.local_data.initialValue;\n  //   },\n  //   selectedOpt(val) {\n  //     this.query = val;\n  //   },\n  //   deep: true,\n  //   immediate: true\n  // }\n\n  watch: {\n    config: {\n      handler(val) {\n        // console.log('cambio dentro del AUTOCOMPLETEEEEEEEEEEE -> ', val);\n        this.query = this.local_data.initialValue;\n      },\n      deep: true\n    },\n    selectedOpt(val) {\n      this.query = val;\n    }\n  }\n};\n",{"version":3,"sources":["autocomplete.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"autocomplete.vue","sourceRoot":"src/pages/Dashboard/Components/autocomplete","sourcesContent":["<template>\n  <div class=\"Typeahead\">\n    <md-snackbar\n      style=\"height: 2%;\"\n      md-position=\"center\"\n      :md-duration=\"99999\"\n      :md-active.sync=\"showSnackbar\"\n      md-persistent\n    >\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-size-50\" style=\"padding:0\">\n          <span style=\"color: white\">Deseas agregar a\n            <br>\n            <b>{{query}}</b>?\n          </span>\n        </div>\n        <div class=\"md-layout-item md-size-25\">\n          <center>\n            <v-btn flat small color=\"red\" @click=\"showSnackbar = false\">NO</v-btn>\n          </center>\n        </div>\n        <div class=\"md-layout-item md-size-25\">\n          <center>\n            <v-btn flat small color=\"green\" @click=\"onEmpty()\">SI</v-btn>\n          </center>\n        </div>\n      </div>\n    </md-snackbar>\n    <!-- <input\n      type=\"text\"\n      md-inline\n      class=\"autocompleteE\"\n      :placeholder=\"config.placeholder_value\"\n      autocomplete=\"off\"\n      v-model=\"query\"\n      @keydown.down=\"down\"\n      @keydown.up=\"up\"\n      @keydown.esc=\"reset\"\n      @blur=\"reset\"\n      @keyup=\"update($event.target)\"\n    >-->\n    <div v-if=\"config.itemType == 'items'\" style=\"display:contents\">\n      <v-text-field\n        id=\"noMaterialize\"\n        solo\n        color=\"green\"\n        background-color=\"grey lighten-2\"\n        :label=\"config.placeholder_value\"\n        append-icon=\"search\"\n        autocomplete=\"off\"\n        v-model=\"query\"\n        @keydown.down=\"down\"\n        @keydown.up=\"up\"\n        @keydown.esc=\"reset\"\n        @blur=\"reset\"\n        @keyup=\"update($event.target)\"\n      ></v-text-field>\n    </div>\n    <div v-else style=\"display:contents\">\n      <v-text-field\n        id=\"noMaterialize\"\n        outline\n        color=\"green\"\n        background-color=\"grey lighten-2\"\n        :label=\"config.placeholder_value\"\n        prepend-inner-icon\n        autocomplete=\"off\"\n        v-model=\"query\"\n        @keydown.down=\"down\"\n        @keydown.up=\"up\"\n        @keydown.esc=\"reset\"\n        @blur=\"reset\"\n        @keyup=\"update($event.target)\"\n      ></v-text-field>\n    </div>\n\n    <ul v-if=\"hasItems\" style=\"color:black; min-width: 90%;\" :md-duration=\"500\">\n      <li\n        v-for=\"(item, index) in items\"\n        :key=\"item._id\"\n        :class=\"activeClass(index)\"\n        @mousemove=\"setActive(index)\"\n        @mousedown=\"hit\"\n      >\n        <div align=\"left\" v-if=\"items.length > 0\">\n          <small>{{(item)?item[config.principalAtribute]: 'sin registros'}}</small>\n\n          <br v-if=\"config.secondaryAtribute != ''\">\n          <small\n            v-if=\"config.secondaryAtribute != ''\"\n            style=\"color:blue;\"\n          >{{(item[config.secondaryAtribute])?item[config.secondaryAtribute]: ''}}</small>\n          \n          <small\n            v-if=\"config.optionalMultipleAtribute != ''\"\n            class=\"pull-right\"\n            style=\"color:gray;\"\n          >{{(item[config.optionalMultipleAtribute[1]] && item[config.optionalMultipleAtribute[1]][config.optionalMultipleAtribute[2]])?item[config.optionalMultipleAtribute[1]][config.optionalMultipleAtribute[2]]:''}}</small>\n        </div>\n      </li>\n    </ul>\n\n    <ul\n      v-if=\"(!hasItems) && (typeCheck) && (isDirty)\"\n      v-show=\"showEmpty\"\n      style=\"color:black; min-width: 90%;\"\n    >\n      <li v-if=\"loading\">\n        <center>\n          <md-progress-spinner\n            class=\"md-accent\"\n            style=\"color: #fafafa !important;\"\n            md-mode=\"indeterminate\"\n            :md-stroke=\"3\"\n          ></md-progress-spinner>\n          <br>\n          <small>Buscando...</small>\n        </center>\n      </li>\n      <!-- <li v-if=\" !loading && !isMobile\" @mousedown=\"onEmpty\">\n        <span>\n          <center>\n            <small>Sin registros para \"{{query}}\"</small>\n            <br>\n            <small style=\"color:blue;\">Â¿Crear como nuevo?</small>\n          </center>\n        </span>\n      </li>-->\n    </ul>\n  </div>\n</template>\n\n<script>\nimport VueTypeahead from './main.js';\nimport isMobile from '../../../../assets/js/isMobile.js';\n\nexport default {\n  extends: VueTypeahead,\n\n  props: {\n    config: {}\n  },\n\n  data() {\n    return {\n      showSnackbar: false,\n      isMobile: false,\n      src: '',\n      limit: 5,\n      minChars: 2,\n      showEmpty: true,\n      valueName: null,\n      local_data: null,\n      selectedOpt: null,\n      inCreator: null,\n      pp: null\n    };\n  },\n\n  methods: {\n    onHit(item) {\n      let params = {\n        name: this.config.res_name,\n        value: item,\n        second_level_res: this.config.second_level_res\n          ? this.config.second_level_res\n          : null,\n\n        isClick: true\n      };\n\n      this.showEmpty = false;\n      this.$emit('clickOnItem', params);\n      this.selectedOpt = item.name;\n      this.query = this.selectedOpt;\n\n      // console.log('AQUI TERMINA EL ONHIT');\n    },\n    onEmpty() {\n      this.showEmpty = false;\n      this.$emit('clickOnCreate', this.query);\n      this.selectedOpt = this.query;\n      this.showSnackbar = false;\n    }\n  },\n\n  mounted() {\n    this.pp = this.$props;\n    this.local_data = this.config;\n    this.src = this.config.searchRoute;\n    this.query = this.config.initialValue;\n    this.isMobile = isMobile;\n  },\n\n  computed: {},\n\n  // watch: {\n  //   local_data: function(val, oldVal) {\n  //     console.log('cambio dentro del AUTOCOMPLETEEEEEEEEEEE -> ', val);\n  //     this.query = this.local_data.initialValue;\n  //   },\n  //   selectedOpt(val) {\n  //     this.query = val;\n  //   },\n  //   deep: true,\n  //   immediate: true\n  // }\n\n  watch: {\n    config: {\n      handler(val) {\n        // console.log('cambio dentro del AUTOCOMPLETEEEEEEEEEEE -> ', val);\n        this.query = this.local_data.initialValue;\n      },\n      deep: true\n    },\n    selectedOpt(val) {\n      this.query = val;\n    }\n  }\n};\n</script>\n\n\n\n<style scoped>\n.Typeahead {\n  position: relative;\n}\n\n.fa-times {\n  cursor: pointer;\n}\n\ni {\n  float: right;\n  position: relative;\n  top: 30px;\n  right: 29px;\n  opacity: 0.4;\n}\n\nul {\n  position: absolute;\n  padding: 0;\n  margin-top: 8px;\n  min-width: 100%;\n  background-color: #fff;\n  list-style: none;\n  border-radius: 4px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);\n  z-index: 1000;\n}\n\nli {\n  padding: 10px 16px;\n  /* border-bottom: 1px solid #ccc; */\n  cursor: pointer;\n}\n\nli:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\nli:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-bottom: 0;\n}\n\nspan {\n  display: block;\n  color: #2c3e50;\n}\n\n.active {\n  background-color: #3aa373;\n}\n\n.active span {\n  color: white;\n}\n\n.name {\n  font-weight: 700;\n  font-size: 18px;\n}\n\n.screen-name {\n  font-style: italic;\n}\n</style>\n"]}]}