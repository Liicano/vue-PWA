{"remainingRequest":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/desarrollo/Escritorio/unabasev4/src/pages/incomes/income.vue?vue&type=template&id=d6ae1116&scoped=true&","dependencies":[{"path":"/home/desarrollo/Escritorio/unabasev4/src/pages/incomes/income.vue","mtime":1552343065642},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <!-- ============================= -->\n  <!-- DIALOGS -->\n  <!-- ============================= -->\n  <md-dialog :md-active.sync=\"getShowDialogIncome\" v-if=\"inMobile\">\n    <!-- <md-dialog-title>\n      <div class=\"row\">\n        <div class=\"col s4\">\n       \n        </div>\n\n        <div class=\"col s4\"></div>\n\n        <div class=\"col s4\">\n          <span class=\"right\" @click=\"displayDialog(false, false, false, true)\">\n            <md-icon>close</md-icon>\n          </span>\n        </div>\n      </div>\n    </md-dialog-title>-->\n    <md-content>\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-size-45 md-small-size-100\" style=\"padding: 0\">\n          <item-form :item=\"getItem\" v-if=\"(inMobile) && (getShowDialogIncome)\"></item-form>\n        </div>\n      </div>\n    </md-content>\n    <md-dialog-actions>\n      <dialog-button\n        @clickFunction=\"addLine()\"\n        :colorClass=\"'md-success'\"\n        :buttonName=\"'AGREGAR'\"\n        style=\"z-index: 1000;\"\n      ></dialog-button>\n    </md-dialog-actions>\n    <br>\n  </md-dialog>\n\n  <modal v-if=\"dialogContactDetail\" @close=\"showContactDetail\">\n    <template slot=\"header\">\n      <md-button\n        class=\"md-simple md-just-icon md-round modal-default-button\"\n        @click=\"showContactDetail\"\n      >\n        <md-icon>clear</md-icon>\n      </md-button>\n    </template>\n\n    <template slot=\"body\">\n      <center v-if=\"(INCOME.client.data || INCOME.client.data != null)\">\n        <div\n          class=\"md-layout-item md-size-10 md-small-size-20 valign-wrapper\"\n          v-if=\"(INCOME.client.type && INCOME.client.type == 'User')\"\n        >\n          <md-avatar v-if=\"INCOME.client.data.imgUrl\">\n            <img @click=\"showContactDetail\" :src=\"getUserImg()\" alt=\"Avatar\">\n          </md-avatar>\n\n          <md-avatar v-else>\n            <img @click=\"showContactDetail\" src=\"../../assets/img/company_icon.png\" alt=\"Avatar\">\n          </md-avatar>\n        </div>\n\n        <div v-else class=\"md-layout-item md-size-10 md-small-size-20 valign-wrapper\">\n          <md-avatar>\n            <img\n              @click=\"showContactDetail\"\n              src=\"../../../public/img/default-avatar.png\"\n              alt=\"Avatar\"\n            >\n          </md-avatar>\n        </div>\n\n        <b>{{getUserName()}}</b>\n\n        <!-- <p>{{(CR_HANDLER == 'income')? INCOME_CLIENT.email : INCOME_RESPONSABLE.email}}</p> -->\n      </center>\n\n      <center v-if=\"(!INCOME.client.data || INCOME.client.data == null)\">\n        <h6>\" {{(INCOME.contactName && INCOME.contactName != null)?INCOME.contactName:INCOME.client.name}} \" no existe</h6>\n        <md-button class=\"md-success md-raised\">AÃ±adir a contactos</md-button>\n      </center>\n    </template>\n\n    <template slot=\"footer\">\n      <md-button v-if=\"INCOME.client.type\" class=\"md-info md-simple\">Ver contacto</md-button>\n    </template>\n  </modal>\n\n  <md-dialog :md-active.sync=\"showDialogMessage\">\n    <md-content>\n      <md-dialog-title>\n        <div class=\"row\">\n          <div class=\"col s4\">\n            <span class=\"left\"></span>\n          </div>\n\n          <div class=\"col s4\"></div>\n\n          <div class=\"col s4\">\n            <span class=\"right\" @click=\"displayDialogMsg(false, false, false, true);\">\n              <md-icon>close</md-icon>\n            </span>\n          </div>\n        </div>\n      </md-dialog-title>\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-size-100 md-small-size-100\" style=\"padding: 0\">\n          <commentsModule :movement=\"INCOME\"></commentsModule>\n        </div>\n      </div>\n      <md-dialog-actions>\n        <dialog-button\n          @clickFunction=\"newComment\"\n          :colorClass=\"'md-success'\"\n          :buttonName=\"'Enviar comentario'\"\n          style=\"z-index: 100;\"\n        ></dialog-button>\n      </md-dialog-actions>\n    </md-content>\n  </md-dialog>\n\n  <md-dialog :md-active.sync=\"showDialogContac\">\n    <md-dialog-title>\n      <div class=\"row\">\n        <div class=\"col s4\"></div>\n\n        <div class=\"col s4\"></div>\n\n        <div class=\"col s4\">\n          <span class=\"right\" @click=\"displayDialogContact(false, false, false, true)\">\n            <md-icon>close</md-icon>\n          </span>\n        </div>\n      </div>\n    </md-dialog-title>\n    <md-content>\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-size-100 md-small-size-100\" style=\"padding: 0\">\n          <new-contact></new-contact>\n        </div>\n      </div>\n    </md-content>\n    <md-dialog-actions>\n      <dialog-button\n        @clickFunction=\"newContact\"\n        :colorClass=\"'md-success'\"\n        :buttonName=\"'Crear contacto'\"\n        style=\"z-index: 100;\"\n      ></dialog-button>\n    </md-dialog-actions>\n    <br>\n  </md-dialog>\n\n  <modal v-if=\"optionalEmail\" @close=\"handleOptionalEmailModal(false)\">\n    <template slot=\"header\">\n      <md-button\n        class=\"md-simple md-just-icon md-round modal-default-button\"\n        @click=\"handleOptionalEmailModal(false)\"\n      >\n        <md-icon>clear</md-icon>\n      </md-button>\n    </template>\n\n    <template slot=\"body\">\n      <div class=\"container-fluid\">\n        <center>\n          <small>Ingresa el correo de \"{{this.getIncome.client.name.toUpperCase()}}\"</small>\n\n          <md-field>\n            <md-input\n              @input.native=\"setOpcionalUser($event.target)\"\n              :placeholder=\"'email@gmail.com'\"\n            ></md-input>\n          </md-field>\n        </center>\n      </div>\n    </template>\n\n    <template slot=\"footer\">\n      <center>\n        <md-button type=\"email\" class=\"md-success md-dense\" @click=\"saveOptionalUser()\">Enviar</md-button>\n      </center>\n    </template>\n  </modal>\n\n  <!-- ============================= -->\n  <!-- / DIALOGS -->\n  <!-- ============================= -->\n  <div v-if=\"loading\">\n    <spinner></spinner>\n  </div>\n\n  <div v-else>\n    <md-card class style=\"margin:0 !important; border-bottom: none; box-shadow: none;\">\n      <md-card-header class=\"md-small-hide\"></md-card-header>\n      <!-- <div class=\"md-layout\">\n        <div class=\"md-layout-item md-size-90\"></div>\n        <div class=\"md-layout-item md-size-10\">\n          <center></center>\n        </div>\n      </div>-->\n      <md-card-content style=\"padding: 0;\">\n        <slide-y-up-transition>\n          <div class=\"md-layout valign-wrapper\" v-if=\"getSeeDetails\">\n            <div class=\"md-layout-item md-size-50 md-small-size-100\" id=\"textField\" style>\n              <br>\n\n              <v-text-field\n                outline\n                id=\"noMaterialize\"\n                name=\"name\"\n                autofocus\n                color=\"green\"\n                background-color=\"grey lighten-2\"\n                label=\"Referencia\"\n                prepend-inner-icon=\"note_add\"\n                :value=\"getIncome.name\"\n                @input.native=\"updateIncome($event.target)\"\n              ></v-text-field>\n            </div>\n\n            <div\n              :class=\"['md-layout-item md-size-50 md-small-size-100', (inMobile)? 'containerMobile': 'containerDesktop']\"\n              style=\"padding: 0;\"\n            >\n              <div class=\"md-layout md-alignment-center-center\">\n                <div class=\"md-layout-item md-size-80\" id=\"textField\">\n                  <md-field>\n                    <autocomplete\n                      style=\"width: 100%; margin-top:6%;\"\n                      v-validate=\"'required'\"\n                      @clickOnItem=\"updateIncome\"\n                      @clickOnCreate=\"createContact\"\n                      :config=\"acomplete\"\n                      @optionalInputFunction=\"updateIncome\"\n                      @blurEvent=\"blurAction\"\n                    ></autocomplete>\n                  </md-field>\n                </div>\n                <div class=\"md-layout-item md-size-20\">\n                  <center>\n                    <!-- ==============================\n            IMAGEN DEL USUARIO\n                    ==============================-->\n                    <center v-if=\"INCOME.client.type == 'User'\">\n                      <v-avatar\n                        v-if=\"INCOME.client.data.imgUrl\"\n                        :tile=\"false\"\n                        :size=\"(inMobile)? 50 : 60\"\n                      >\n                        <img @click=\"showContactDetail\" :src=\"getUserImg()\" alt=\"Avatar\">\n                      </v-avatar>\n\n                      <md-avatar v-else>\n                        <img\n                          @click=\"showContactDetail\"\n                          src=\"../../assets/img/company_icon.png\"\n                          alt=\"Avatar\"\n                        >\n                      </md-avatar>\n                    </center>\n\n                    <center v-else>\n                      <v-avatar :tile=\"false\" :size=\"(inMobile)? 50 : 60\">\n                        <img\n                          @click=\"showContactDetail\"\n                          src=\"../../../public/img/default-avatar.png\"\n                          alt=\"avatar\"\n                        >\n                      </v-avatar>\n                    </center>\n\n                    <!-- ==============================\n          //   IMAGEN DEL USUARIO\n                    ==============================-->\n                  </center>\n                </div>\n              </div>\n            </div>\n          </div>\n        </slide-y-up-transition>\n        <!-- ==============================\n            NOMBRE DEL USUARIO\n        ==============================-->\n        <div v-if=\"!getSeeDetails\" @click=\"handleSeeDetails()\">\n          <center>\n            <md-content class=\"md-elevation-3\" v-if=\"inMobile\">\n              <div v-if=\"INCOME.client\">\n                <!-- <h5>\n                  <span>\n                    <small>{{getUserName()}}</small>\n                  </span>\n                  <br>\n                  <span>{{INCOME.name}}</span>\n                </h5>-->\n                <v-card class=\"mx-auto\" color=\"white\" dark max-width=\"400\">\n                  <v-card-actions>\n                    <v-list-tile class=\"grow\">\n                      <v-list-tile-avatar color=\"grey darken-3\" v-if=\"INCOME.client.imgUrl\">\n                        <v-img class=\"elevation-6\" :src=\"getUserImg()\"></v-img>\n                      </v-list-tile-avatar>\n                      <v-list-tile-avatar color=\"grey darken-3\" v-else>\n                        <v-img class=\"elevation-6\" :src=\"getUserImg()\"></v-img>\n                      </v-list-tile-avatar>\n\n                      <v-list-tile-content class=\"userIncomeClass\">\n                        <div class=\"container-fluid\">\n                          <div class=\"md-layout\">\n                            <div\n                              class=\"md-layout-item md-size-100\"\n                              style=\"heigth: 0px !important; color: black;\"\n                            >\n                              <p style=\"margin-bottom: 0;\">\n                                <b>{{INCOME.name}}</b>\n                              </p>\n                              <small class=\"md-caption\">{{getUserName()}}</small>\n                            </div>\n                          </div>\n                        </div>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  </v-card-actions>\n                </v-card>\n              </div>\n              <div v-else>\n                <h5>Â¡Le faltan datos a la venta!\n                  <br>\n                  <span style=\"color:blue;\">Click aqui!</span>\n                </h5>\n              </div>\n            </md-content>\n            <div v-else>\n              <div class=\"md-layout\">\n                <div class=\"md-layout-item md-size-15\">\n                  <div class=\"file-input img-circle\" style=\"margin-left: -0%;\">\n                    <div class=\"image-container\">\n                      <img :src=\"getUserImg()\" class=\"valign-wrapper\">\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"md-layout-item md-size-70\" style=\"margin-top: -2%;\">\n                  <div class=\"md-layout\">\n                    <div class=\"md-layout-item md-size-100\">\n                      <h3 class=\"pull-left\" style=\"margin-bottom: -15px;\">\n                        <b>{{INCOME.name | uppercase}}</b>\n                      </h3>\n                    </div>\n                  </div>\n\n                  <div class=\"md-layout\">\n                    <div class=\"md-layout-item md-size-100\">\n                      <h4 class=\"pull-left\">{{getUserName()}}</h4>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"md-layout-item md-size-15\">\n                  <center>\n                    <!-- <md-button class=\"md-just-icon md-simple md-info\">\n                      <md-icon>message</md-icon>\n                    </md-button>-->\n                    <md-button class=\"md-just-icon blue darken-3 md-round md-dense\">\n                      <md-icon>timeline</md-icon>\n                    </md-button>\n                    <!-- <md-button class=\"md-just-icon md-simple md-danger\">\n                      <md-icon>delete</md-icon>\n                    </md-button>-->\n                  </center>\n                </div>\n              </div>\n            </div>\n          </center>\n        </div>\n\n        <!-- ==============================\n          //  NOMBRE DEL USUARIO\n        ==============================-->\n        <!-- ==============================\n            SECCION DE AGREGAR ITEM (INTERMEDIA) (MOBILE)\n        ==============================-->\n        <!-- <br class=\"md-big-hide\" v-if=\"inMobile\"> -->\n        <div class=\"md-layout\" v-if=\"inMobile\">\n          <div class=\"md-layout-item md-size-100\" style=\"padding:0\">\n            <!-- <md-button\n                class=\"md-success md-raised md-round\"\n                @click=\"displayDialog(true, false, true, false); handleSaveIncome();\"\n            >Agregar item</md-button>-->\n            <v-btn\n              @click=\"displayDialog(true, false, true, false); handleSaveIncome();\"\n              block\n              color=\"green\"\n              dark\n              style=\"margin: 0 !important\"\n            >Nueva linea +</v-btn>\n          </div>\n        </div>\n        <!-- <zoom-center-transition :duration=\"500\"> -->\n        <!-- <div class=\"md-layout\" v-if=\"inMobile && getSelectedItems.length > 0\">\n            <div class=\"md-layout-item md-size-100\">\n              <v-subheader\n                class=\"text-success\"\n                \n              >{{getSelectedItems.length}} Seleccionados</v-subheader>\n\n              <v-divider></v-divider>\n            </div>\n        </div>-->\n        <!-- <div class=\"md-layout\">\n            <div class=\"md-layout-item md-size-80\">\n              <v-subheader\n                @click=\"showHandleItems = !showHandleItems\"\n                class=\"text-success\"\n                v-if=\"inMobile && getSelectedItems.length > 0\"\n              >{{getSelectedItems.length}} items seleccionados</v-subheader>\n            </div>\n            <div class=\"md-layout-item md-size-20\">\n              <v-btn flat icon color=\"green\" v-if=\"inMobile && getSelectedItems.length > 0\">\n                <v-icon>style</v-icon>\n              </v-btn>\n            </div>\n        </div>-->\n        <!-- </zoom-center-transition> -->\n        <!-- <v-divider v-if=\"inMobile && getSelectedItems.length > 0\"></v-divider>\n        <v-spacer v-if=\"inMobile && getSelectedItems.length > 0\"></v-spacer>-->\n        <!-- ==============================\n          //  SECCION DE AGREGAR ITEM (INTERMEDIA) (MOBILE)\n        ==============================-->\n        <!-- <md-divider></md-divider> -->\n        <!-- ==============================\n            LISTA DE ITEMS Y TOTALES (MOBILE)\n        ==============================-->\n        <div class=\"md-layout md-big-hide\" style=\"height: 80vh;\">\n          <div class=\"md-small-size-100 md-size-100\">\n            <md-content @scroll.native=\"handleScroll($event)\">\n              <item-list :items=\"null\" class=\"md-big-hide\"></item-list>\n            </md-content>\n          </div>\n\n          <totales></totales>\n        </div>\n\n        <!-- ==============================\n          //  LISTA DE ITEMS Y TOTALES (MOBILE)\n        ==============================-->\n        <!-- ==============================\n            SECCION DE AGREGAR ITEM (INTERMEDIA) (DESKTOP)\n        ==============================-->\n        <!-- TOTALS TOOLBAR (DESKTOP) -->\n        <md-toolbar\n          v-if=\"!inMobile\"\n          class=\"md-dense md-white\"\n          style=\"border-color: #01C73E !important;border-style: solid;border-radius: 10px;\"\n        >\n          <div class=\"md-layout\" style=\"color: black\">\n            <div class=\"md-layout-item md-size-33\">\n              <center>\n                <small>SUBTOTAL</small>\n                <h4 style=\"margin-top: 5px;\">{{TOTAL.net | currency}}</h4>\n              </center>\n            </div>\n            <div class=\"md-layout-item md-size-33\">\n              <center>\n                <small>IMPUESTO</small>\n                <h4 style=\"margin-top: 5px;\">{{(TOTAL.tax) | currency}}</h4>\n              </center>\n            </div>\n            <div class=\"md-layout-item md-size-33\">\n              <center>\n                <small>TOTAL</small>\n                <h4 style=\"margin-top: 5px;\">{{(TOTAL.total) | currency}}</h4>\n              </center>\n            </div>\n          </div>\n        </md-toolbar>\n        <!-- TOTALS TOOLBAR (DESKTOP) -->\n        <div class=\"md-layout md-small-hide\">\n          <div class=\"md-layout-item md-size-50 md-small-size-100\">\n            <md-card class=\"md-elevation-5 pull-right\" style=\"width: 100%; z-index:100; \">\n              <md-card-header class=\"md-card-header-icon md-card-header-green\">\n                <div class=\"md-layout\">\n                  <div class=\"md-layout-item md-size-50\">\n                    <h6>ITEMS DE LA VENTA</h6>\n                  </div>\n                  <div class=\"md-layout-item md-size-50\" v-if=\"this.getIncome._id\">\n                    <h6\n                      v-if=\"getSelectedItems.length > 0\"\n                      class=\"pull-right text-success\"\n                      style=\"cursor:pointer\"\n                      @click=\"showHandleItems = !showHandleItems\"\n                    >\n                      <b>{{getSelectedItems.length}} Seleccionados</b>\n                    </h6>\n                  </div>\n                </div>\n              </md-card-header>\n              <md-card-content>\n                <item-list :items=\"null\"></item-list>\n              </md-card-content>\n            </md-card>\n\n            <center>\n              <div></div>\n            </center>\n          </div>\n\n          <div class=\"md-layout-item md-size-50 md-small-size-100\">\n            <md-card class=\"md-elevation-5 pull-right\" style=\"width: 100%; z-index:100\">\n              <md-card-header class=\"md-card-header-icon md-card-header-green\"></md-card-header>\n              <md-card-content>\n                <item-form :item=\"getItem\"></item-form>\n                <br>\n                <div class=\"md-layout\" v-if=\"!inMobile\">\n                  <button\n                    @click=\"handleLine();\"\n                    class=\"btn waves-effect green accent-4\"\n                    type=\"submit\"\n                    name=\"action\"\n                    style=\"border-radius: 15px;\"\n                  >\n                    AGREGAR ITEM\n                    <i class=\"material-icons right\">add</i>\n                  </button>\n                </div>\n              </md-card-content>\n            </md-card>\n          </div>\n        </div>\n\n        <!-- ==============================\n            SECCION DE AGREGAR ITEM (INTERMEDIA) (DESKTOP)\n        ==============================-->\n      </md-card-content>\n    </md-card>\n  </div>\n</div>\n",null]}