{"remainingRequest":"/home/desarrollo/Escritorio/unabasev4/node_modules/thread-loader/dist/cjs.js!/home/desarrollo/Escritorio/unabasev4/node_modules/babel-loader/lib/index.js!/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/desarrollo/Escritorio/unabasev4/src/pages/user/profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/desarrollo/Escritorio/unabasev4/src/pages/user/profile.vue","mtime":1552505575869},{"path":"/home/desarrollo/Escritorio/unabasev4/.babelrc","mtime":1547153504905},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desarrollo/Escritorio/unabasev4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"/home/desarrollo/Escritorio/unabasev4/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { EditProfileForm, UserCard } from '@/pages';\nimport store from '../../store/store.js';\nimport { Modal } from '@/components';\nimport { mapGetters, mapActions, mapMutations } from 'vuex';\nimport isMobile from '../../assets/js/isMobile';\nexport default {\n  components: {\n    EditProfileForm: EditProfileForm,\n    UserCard: UserCard,\n    Modal: Modal\n  },\n  name: 'userProfile',\n  props: {},\n  data: function data() {\n    return {\n      newEmail: '',\n      imageCircle: '',\n      userData: {},\n      isMobileLocal: false,\n      showButton: false,\n      editEMail: false,\n      editPhone: false\n    };\n  },\n  methods: _objectSpread({}, mapActions({\n    logout: 'users/logout',\n    putUser: 'users/putUser'\n  }), mapMutations({\n    setUser: 'users/setUser',\n    changeBusiness: 'CHANGE_BUSINESS',\n    hideShowBottom: 'HIDE_SHOW_BOTTOM'\n  }), {\n    onFileChange: function onFileChange(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n\n      if (e.target.name) {\n        this.createImage(files[0], 'circle');\n        this.USER.image = {\n          name: files[0].name,\n          size: files[0].size,\n          type: files[0].type\n        };\n      } else {\n        this.createImage(files[0]);\n      }\n    },\n    createImage: function createImage(file, type) {\n      var reader = new FileReader();\n      var vm = this;\n\n      reader.onload = function (e) {\n        if (type === 'circle') {\n          vm.imageCircle = e.target.result;\n        } else {\n          vm.imageRegular = e.target.result;\n        }\n      };\n\n      reader.readAsDataURL(file);\n    },\n    update: function update(event) {\n      var obj = {\n        attr: event.name,\n        value: event.value\n      };\n      this.setUser(obj);\n    },\n    saveProfile: function saveProfile() {\n      this.putUser(this.user);\n    },\n    close_session: function close_session() {\n      var _this = this;\n\n      this.logout().then(function (res) {\n        _this.$router.go('/dashboard');\n      });\n    },\n    clean_businessScope: function clean_businessScope() {\n      this.changeBusiness({});\n      this.$toasted.show('<b>' + this.user.name + '</b>');\n    }\n  }),\n  created: function created() {\n    console.log(this.USER);\n    console.log(this.user);\n    this.isMobileLocal = isMobile;\n  },\n  computed: _objectSpread({}, mapGetters({\n    user: 'users/user',\n    getBusinessScope: 'getBusinessScope'\n  }), {\n    USER: function USER() {\n      return {\n        name: this.user.name,\n        username: this.user.username,\n        idNumber: this.user.idNumber ? this.user.idNumber : 'N/A',\n        password: this.user.password ? this.user.password : 'N/A',\n        image: this.user.imgUrl,\n        email: this.user.google ? this.user.google.email : this.user.emails ? this.user.emails[0].email : 'NO EMAIL',\n        // address: {\n        //   street: this.user.address.street ? this.user.street : 'N/A',\n        //   number: this.user.address.number ? this.user.number : 'N/A',\n        //   district: this.user.address.district ? this.user.district : 'N/A',\n        //   city: this.user.address.city ? this.user.city : 'N/A',\n        //   region: this.user.address.region ? this.user.region : 'N/A',\n        //   country: this.user.address.country ? this.user.country : 'N/A'\n        // },\n        phones: this.user.phones[0] ? this.user.phones[0] : 'N/A'\n      };\n    }\n  }),\n  // NAVIGATIONS GUARDS\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    store.commit('HIDE_SHOW_BOTTOM', false);\n    next();\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    store.commit('HIDE_SHOW_BOTTOM', true);\n    next();\n  }\n};",{"version":3,"sources":["profile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"textField\">\n    <br>\n    <!-- MOBILE -->\n    <div class=\"container-fluid\" v-if=\"isMobileLocal\">\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-small-size-100\">\n          <center>\n            <div class=\"file-input img-circle\" v-if=\"!getBusinessScope._id\">\n              <div class=\"image-container\" v-if=\"!user.image\">\n                <img :src=\"USER.image\">\n              </div>\n              <div class=\"image-container\" v-else>\n                <img src=\"../../../public/img/logotipo60x60.png\">\n              </div>\n              <div class=\"button-container\">\n                <md-button class=\"md-success md-round md-fileinput md-dense md-mini\">\n                  <template>Cambiar</template>\n                  <input type=\"file\" name=\"circle\" @change=\"onFileChange\">\n                </md-button>\n              </div>\n            </div>\n\n            <div v-else class=\"file-input img-circle\">\n              <div class=\"avatarContainer\">\n                <span class=\"avatarNavbar\" v-if=\"user.imgUrl\">\n                  <md-avatar>\n                    <img :src=\"user.imgUrl\">\n                  </md-avatar>\n                </span>\n                <span class=\"avatarNavbar\">\n                  <md-avatar class=\"md-avatar-icon md-sucess\">{{getBusinessScope.name.charAt(0)}}</md-avatar>\n                </span>\n              </div>\n\n              <div class=\"button-container\">\n                <md-button\n                  class=\"md-success md-round md-mini md-dense\"\n                  @click=\"clean_businessScope()\"\n                >\n                  <template>Volver a mi unabase</template>\n                </md-button>\n              </div>\n            </div>\n          </center>\n        </div>\n      </div>\n\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-small-size-80\">\n          <md-field>\n            <v-text-field\n              color=\"green\"\n              label=\"Nombre completo\"\n              name=\"name\"\n              id=\"name\"\n              :value=\"USER.name\"\n              @input.native=\"update($event.target)\"\n              outline\n            ></v-text-field>\n          </md-field>\n        </div>\n      </div>\n\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-small-size-100\">\n          <md-field>\n            <v-text-field\n              color=\"green\"\n              label=\"Nombre de usuario\"\n              id=\"username\"\n              name=\"username\"\n              :value=\"USER.username\"\n              @input.native=\"update($event.target)\"\n              append-icon=\"account_circle\"\n              outline\n            ></v-text-field>\n          </md-field>\n        </div>\n      </div>\n\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-small-size-100\">\n          <md-field>\n            <v-text-field\n              outline\n              label=\"Email\"\n              color=\"green\"\n              name=\"email\"\n              id=\"email\"\n              :value=\"USER.email\"\n              @input.native=\"update($event.target)\"\n              append-icon=\"email\"\n            ></v-text-field>\n          </md-field>\n        </div>\n      </div>\n\n      <!-- <div class=\"md-layout\">\n        <div class=\"md-layout-item md-small-size-100\" style=\"padding:0;\">\n          <md-card style=\"width: 95%;\">\n            <md-card-expand style=\"padding:0;\">\n              <md-card-actions md-alignment=\"space-between\">\n                <h5 style=\"margin-left: 5%;\">Mi direccion</h5>\n                <md-card-expand-trigger>\n                  <md-button class=\"md-icon-button md-success\" style=\"margin-right: 5%;\">\n                    <md-icon>keyboard_arrow_down</md-icon>\n                  </md-button>\n                </md-card-expand-trigger>\n              </md-card-actions>\n\n              <md-card-expand-content>\n                <md-card-content>\n                  <div class=\"md-layout\">\n                    <div class=\"md-layout-item md-small-size-100\">\n                      <md-field>\n                        <label for=\"first-name\">Pais</label>\n                        <md-input\n                          name=\"country\"\n                          id=\"country\"\n                          :value=\"USER.address.country\"\n                          @input.native=\"update($event.target)\"\n                        />\n                      </md-field>\n                    </div>\n                  </div>\n\n                  <div class=\"md-layout\">\n                    <div class=\"md-layout-item md-small-size-100\">\n                      <md-field>\n                        <label for=\"first-name\">Ciudad</label>\n                        <md-input\n                          name=\"city\"\n                          id=\"city\"\n                          :value=\"USER.address.city\"\n                          @input.native=\"update($event.target)\"\n                        />\n                      </md-field>\n                    </div>\n                  </div>\n\n                  <div class=\"md-layout\">\n                    <div class=\"md-layout-item md-small-size-100\">\n                      <md-field>\n                        <label for=\"first-name\">Region</label>\n                        <md-input\n                          name=\"region\"\n                          id=\"region\"\n                          :value=\"USER.address.region\"\n                          @input.native=\"update($event.target)\"\n                        />\n                      </md-field>\n                    </div>\n                  </div>\n\n                  <div class=\"md-layout\">\n                    <div class=\"md-layout-item md-small-size-100\">\n                      <md-field>\n                        <label for=\"first-name\">Distrito</label>\n                        <md-input\n                          name=\"district\"\n                          id=\"district\"\n                          :value=\"USER.address.district\"\n                          @input.native=\"update($event.target)\"\n                        />\n                      </md-field>\n                    </div>\n                  </div>\n\n                  <div class=\"md-layout\">\n                    <div class=\"md-layout-item md-small-size-65\">\n                      <md-field>\n                        <label for=\"first-name\">Calle</label>\n                        <md-input\n                          name=\"street\"\n                          id=\"street\"\n                          :value=\"USER.address.street\"\n                          @input.native=\"update($event.target)\"\n                        />\n                      </md-field>\n                    </div>\n\n                    <div class=\"md-layout-item md-small-size-35\">\n                      <md-field>\n                        <label for=\"first-name\">Casa</label>\n                        <md-input\n                          name=\"house\"\n                          id=\"house\"\n                          :value=\"USER.address.number\"\n                          @input.native=\"update($event.target)\"\n                        />\n                      </md-field>\n                    </div>\n                  </div>\n                </md-card-content>\n              </md-card-expand-content>\n            </md-card-expand>\n          </md-card>\n        </div>\n      </div>-->\n      <v-subheader>Opciones</v-subheader>\n      <div class=\"md-layout\">\n        <div class=\"md-layout-item md-small-size-100\">\n          <div class=\"row\">\n            <div class=\"col s3\">\n              <center>\n                <md-button class=\"md-success md-just-icon md-round\" @click=\"saveProfile()\">\n                  <md-icon>save</md-icon>\n                </md-button>\n                <br>\n                <small>Guardar</small>\n              </center>\n            </div>\n            <div class=\"col s3\">\n              <center>\n                <router-link\n                  class=\"md-info md-just-icon md-round\"\n                  tag=\"md-button\"\n                  to=\"/user/business\"\n                >\n                  <md-icon>business_center</md-icon>\n                </router-link>\n                <br>\n                <small>Empresas</small>\n              </center>\n            </div>\n            <div class=\"col s3\">\n              <center>\n                <router-link\n                  class=\"gray darken-4 md-just-icon md-round\"\n                  tag=\"md-button\"\n                  to=\"/user/config\"\n                >\n                  <md-icon>settings</md-icon>\n                </router-link>\n                <br>\n                <small>Configuracion</small>\n              </center>\n            </div>\n\n            <div class=\"col s3\">\n              <center>\n                <md-button class=\"md-danger md-just-icon md-round\" @click=\"close_session\">\n                  <md-icon>exit_to_app</md-icon>\n                </md-button>\n                <br>\n                <small>Cerrar sesion</small>\n              </center>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <br>\n    </div>\n\n    <!-- DESKTOP -->\n    <div v-else>\n      <br>\n      <br>\n      <div class=\"row\">\n        <div class=\"col s4\">\n          <md-card>\n            <md-card-header class=\"md-card-header-icon\">\n              <div class=\"card-icon\">\n                <md-icon>map</md-icon>\n              </div>\n              <h4>Direccion</h4>\n            </md-card-header>\n            <br>\n            <md-divider class=\"md-inset\"></md-divider>\n\n            <md-card-content>\n              <div class=\"row\">\n                <div class=\"col s12\">\n                  <md-field>\n                    <label>Pais</label>\n                    <md-input type=\"text\" v-model=\"USER.address.country\"></md-input>\n                  </md-field>\n                </div>\n\n                <div class=\"col s12\">\n                  <md-field>\n                    <label>Region</label>\n                    <md-input type=\"text\" v-model=\"USER.address.region\"></md-input>\n                  </md-field>\n                </div>\n\n                <div class=\"col s12\">\n                  <md-field>\n                    <label>Ciudad</label>\n                    <md-input type=\"text\" v-model=\"USER.address.city\"></md-input>\n                  </md-field>\n                </div>\n\n                <div class=\"col s12\">\n                  <md-field>\n                    <label>Distrito</label>\n                    <md-input type=\"text\" v-model=\"USER.address.distric\"></md-input>\n                  </md-field>\n                </div>\n\n                <div class=\"col s12\">\n                  <div class=\"row\">\n                    <div class=\"col s8\">\n                      <md-field>\n                        <label>Calle</label>\n                        <md-input type=\"text\" v-model=\"USER.address.street\"></md-input>\n                      </md-field>\n                    </div>\n\n                    <div class=\"col s4\">\n                      <md-field>\n                        <label>Casa</label>\n                        <md-input type=\"text\" v-model=\"USER.address.number\"></md-input>\n                      </md-field>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </md-card-content>\n          </md-card>\n        </div>\n        <div class=\"col s4\">\n          <md-card class=\"md-card-profile\">\n            <!-- <div class=\"md-card-avatar\" style=\"max-height: 96px !important;\">\n              <img class :src=\"USER.image\">\n            </div>-->\n            <center>\n              <div\n                class=\"file-input img-circle\"\n                v-if=\"!getBusinessScope._id\"\n                style=\"margin-top: -50px;\"\n              >\n                <div class=\"image-container\" v-if=\"!user.image\">\n                  <img :src=\"USER.image\">\n                </div>\n                <div class=\"image-container\" v-else>\n                  <img src=\"../../../public/img/logotipo60x60.png\">\n                </div>\n                <div class=\"button-container\">\n                  <md-button class=\"md-success md-round md-fileinput md-dense md-mini\">\n                    <template>Cambiar</template>\n                    <input type=\"file\" name=\"circle\" @change=\"onFileChange\">\n                  </md-button>\n                </div>\n              </div>\n\n              <div v-else class=\"file-input img-circle\">\n                <div class=\"avatarContainer\">\n                  <span class=\"avatarNavbar\" v-if=\"user.imgUrl\">\n                    <md-avatar>\n                      <img :src=\"user.imgUrl\">\n                    </md-avatar>\n                  </span>\n                  <span class=\"avatarNavbar\">\n                    <md-avatar class=\"md-avatar-icon md-sucess\">{{getBusinessScope.name.charAt(0)}}</md-avatar>\n                  </span>\n\n                  <!-- Variable amount more avatarContainer -->\n                </div>\n\n                <div class=\"button-container\">\n                  <md-button\n                    class=\"md-success md-round md-mini md-dense\"\n                    @click=\"clean_businessScope()\"\n                  >\n                    <template>Volver a mi unabase</template>\n                  </md-button>\n                </div>\n              </div>\n            </center>\n\n            <md-card-content>\n              <h6 class=\"category text-gray\">{{USER.idNumber}}</h6>\n              <h4 class=\"card-title\" style=\"margin-top: -1px;\">{{USER.name}}</h4>\n              <div class=\"card-description\">\n                <div class=\"row\">\n                  <div class=\"col s8\">\n                    <md-field>\n                      <label>Nombre de usuario</label>\n                      <md-input type=\"text\" v-model=\"USER.username\"></md-input>\n                    </md-field>\n                  </div>\n                  <div class=\"col s4 valign-wrapper\" style=\"color:green;\">\n                    <p>Disponible</p>\n                  </div>\n                </div>\n\n                <div class=\"row\" style=\"margin-top: -20%;\">\n                  <div class=\"col s12\">\n                    <md-field>\n                      <label>Documento de identidad</label>\n                      <md-input type=\"text\" v-model=\"USER.idNumber\"></md-input>\n                    </md-field>\n                  </div>\n\n                  <div class=\"col s12\">\n                    <md-field>\n                      <label>Nombre</label>\n                      <md-input type=\"text\" v-model=\"USER.name\"></md-input>\n                    </md-field>\n                  </div>\n\n                  <div class=\"col s12\">\n                    <md-field>\n                      <label>Password</label>\n                      <md-input type=\"text\" v-model=\"USER.password\"></md-input>\n                    </md-field>\n                  </div>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col s6\">\n                  <center>\n                    <md-button class=\"md-success md-just-icon md-round\" @click=\"saveProfile()\">\n                      <md-icon>save</md-icon>\n                    </md-button>\n                    <br>\n                    <small>Guardar</small>\n                  </center>\n                </div>\n\n                <div class=\"col s6\">\n                  <center>\n                    <router-link to=\"/user/business\">\n                      <md-button class=\"md-info md-just-icon md-round\">\n                        <md-icon>business_center</md-icon>\n                      </md-button>\n                    </router-link>\n                    <br>\n                    <small>Empresas</small>\n                  </center>\n                </div>\n              </div>\n            </md-card-content>\n          </md-card>\n        </div>\n\n        <div class=\"col s4\">\n          <div class=\"row\">\n            <div class=\"col s12\">\n              <md-card>\n                <md-card-header class=\"md-card-header-icon\">\n                  <div class=\"card-icon\">\n                    <md-icon>email</md-icon>\n                  </div>\n                  <h4 class=\"title\">Correos</h4>\n                  <md-button\n                    class=\"pull-right md-info md-mini md-dense md-just-icon md-round\"\n                    v-if=\"!editEMail\"\n                    @click=\"editEMail = !editEMail\"\n                  >\n                    <md-icon>edit</md-icon>\n                  </md-button>\n                  <md-button\n                    class=\"pull-right md-success md-mini md-dense md-just-icon md-round\"\n                    v-else\n                    @click=\"editEMail = !editEMail\"\n                  >\n                    <md-icon>add</md-icon>\n                  </md-button>\n                </md-card-header>\n                <br>\n                <md-divider class=\"md-inset\"></md-divider>\n                <md-card-content>\n                  <br>\n\n                  <div v-if=\"(USER.email)\">\n                    <div class=\"row\" style=\"cursor:pointer;\">\n                      <div\n                        class=\"col s10\"\n                        style=\"overflow: hidden;\"\n                        @click=\"showButton = !showButton\"\n                      >\n                        <div class=\"row\">\n                          <div class=\"col s12\">\n                            <input type=\"text\" :value=\"USER.email\">\n                          </div>\n                          <!-- <div class=\"col s4\">\n                            <input type=\"text\" v-value=\"'index'\">\n                          </div>-->\n                        </div>\n                      </div>\n                      <div class=\"col s2\">\n                        <button\n                          class=\"btn-floating red btn-mini btn-small valig-wrapper\"\n                          v-if=\"showButton\"\n                        >\n                          <i class=\"material-icons\">delete</i>\n                        </button>\n                        <br>\n                      </div>\n                    </div>\n                  </div>\n                  <!-- <div v-else>\n                    <div class=\"row\" style=\"cursor:pointer;\">\n                      <div class=\"col s12\">\n                        <h5>{{USER.email}}</h5>\n                        <small>Google</small>\n                      </div>\n                    </div>\n                  </div>-->\n                </md-card-content>\n              </md-card>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col s12\">\n              <md-card>\n                <md-card-header class=\"md-card-header-icon\">\n                  <div class=\"card-icon\">\n                    <md-icon>phone</md-icon>\n                  </div>\n                  <h4 class=\"title\">Telefonos</h4>\n                  <md-button class=\"pull-right md-success md-mini md-dense md-just-icon md-round\">\n                    <md-icon>edit</md-icon>\n                  </md-button>\n                </md-card-header>\n                <br>\n                <md-divider class=\"md-inset\"></md-divider>\n                <br>\n                <md-card-content>\n                  <div v-if=\"(USER.phone)\">\n                    <div class=\"row\" style=\"cursor:pointer;\" v-if=\"USER.phone\">\n                      <div class=\"col s10\" @click=\"showButton = !showButton\">\n                        <h5>{{USER.phone}}</h5>\n                      </div>\n                      <div class=\"col s2\">\n                        <button\n                          class=\"btn-floating red btn-mini btn-small valig-wrapper\"\n                          v-if=\"showButton\"\n                        >\n                          <i class=\"material-icons\">delete</i>\n                        </button>\n                        <br>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div v-else>\n                    <div class=\"row\" style=\"cursor:pointer;\">\n                      <div class=\"col s10\">\n                        <center>\n                          <small>No hay telefonos registrados</small>\n                        </center>\n                      </div>\n                    </div>\n                  </div>\n                </md-card-content>\n              </md-card>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <br>\n    <br>\n  </div>\n</template>\n\n<script>\nimport { EditProfileForm, UserCard } from '@/pages';\nimport store from '../../store/store.js';\n\nimport { Modal } from '@/components';\nimport { mapGetters, mapActions, mapMutations } from 'vuex';\nimport isMobile from '../../assets/js/isMobile';\n\nexport default {\n  components: {\n    EditProfileForm,\n    UserCard,\n    Modal\n  },\n  name: 'userProfile',\n  props: {},\n  data() {\n    return {\n      newEmail: '',\n      imageCircle: '',\n      userData: {},\n      isMobileLocal: false,\n      showButton: false,\n      editEMail: false,\n      editPhone: false\n    };\n  },\n  methods: {\n    ...mapActions({\n      logout: 'users/logout',\n      putUser: 'users/putUser'\n    }),\n    ...mapMutations({\n      setUser: 'users/setUser',\n      changeBusiness: 'CHANGE_BUSINESS',\n      hideShowBottom: 'HIDE_SHOW_BOTTOM'\n    }),\n\n    onFileChange(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      if (e.target.name) {\n        this.createImage(files[0], 'circle');\n        this.USER.image = {\n          name: files[0].name,\n          size: files[0].size,\n          type: files[0].type\n        };\n      } else {\n        this.createImage(files[0]);\n      }\n    },\n    createImage(file, type) {\n      let reader = new FileReader();\n      let vm = this;\n\n      reader.onload = e => {\n        if (type === 'circle') {\n          vm.imageCircle = e.target.result;\n        } else {\n          vm.imageRegular = e.target.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    },\n\n    update(event) {\n      let obj = {\n        attr: event.name,\n        value: event.value\n      };\n      this.setUser(obj);\n    },\n\n    saveProfile() {\n      this.putUser(this.user);\n    },\n    close_session() {\n      this.logout().then(res => {\n        this.$router.go('/dashboard');\n      });\n    },\n\n    clean_businessScope() {\n      this.changeBusiness({});\n      this.$toasted.show('<b>' + this.user.name + '</b>');\n    }\n  },\n\n  created() {\n    console.log(this.USER);\n    console.log(this.user);\n    this.isMobileLocal = isMobile;\n  },\n  computed: {\n    ...mapGetters({\n      user: 'users/user',\n      getBusinessScope: 'getBusinessScope'\n    }),\n\n    USER() {\n      return {\n        name: this.user.name,\n        username: this.user.username,\n        idNumber: this.user.idNumber ? this.user.idNumber : 'N/A',\n        password: this.user.password ? this.user.password : 'N/A',\n        image: this.user.imgUrl,\n        email: this.user.google\n          ? this.user.google.email\n          : this.user.emails\n          ? this.user.emails[0].email\n          : 'NO EMAIL',\n        // address: {\n        //   street: this.user.address.street ? this.user.street : 'N/A',\n        //   number: this.user.address.number ? this.user.number : 'N/A',\n        //   district: this.user.address.district ? this.user.district : 'N/A',\n        //   city: this.user.address.city ? this.user.city : 'N/A',\n        //   region: this.user.address.region ? this.user.region : 'N/A',\n        //   country: this.user.address.country ? this.user.country : 'N/A'\n        // },\n        phones: this.user.phones[0] ? this.user.phones[0] : 'N/A'\n      };\n    }\n  },\n\n  // NAVIGATIONS GUARDS\n  beforeRouteEnter: (to, from, next) => {\n    store.commit('HIDE_SHOW_BOTTOM', false);\n    next();\n  },\n\n  beforeRouteLeave(to, from, next) {\n    store.commit('HIDE_SHOW_BOTTOM', true);\n    next();\n  }\n};\n</script>\n<style>\n.card-expansion {\n  height: 480px;\n}\n\n/* .md-card {\n  width: 320px;\n  margin: 4px;\n  display: inline-block;\n  vertical-align: top;\n} */\n.text-right {\n  display: flex;\n}\n\n.avatarNavbar {\n  margin-left: -15px;\n  position: relative;\n  display: inline-block;\n  border: 1px solid #01c73e;\n  border-radius: 50%;\n  overflow: hidden;\n  width: 39px;\n  height: 39px;\n}\n.avatarContainer {\n  margin-left: 10px;\n  margin-top: 0px;\n}\n\n.avatarNavbar img {\n  width: 50px;\n  height: 50px;\n  transform: scale(-1, 1);\n}\n</style>\n"],"sourceRoot":"src/pages/user"}]}